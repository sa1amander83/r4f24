{% extends 'base.html' %}
{% load static %}
{% load time_tag %}
{% block content %}
    {% load okon4_tag %}
    {% csrf_token %}
    <div class=" mx-5 ">
        <div class="hidden md:flex text-center bg-sky-700 flex-col rounded-t-2xl pb-10 mx-10"></div>
        <main class="flex flex-col justify-center rounded-2xl pb-3 pt-10 bg-sky-900 h-full">
            <div class="flex lg:gap-5 flex-col lg:flex-row  bg-gray-200 mb-3  rounded-2xl w-full p-3 my-3 md:p-6 md:my-0">

                <!-- sidebar  -->

                <div class="">


                    <!-- Chart gender -->
                    <div class="">
                        <div class="flex items-center">
                            <h2 class="mr-5 text-lg font-semibold truncate">Диаграмма
                                участников по полу</h2></div>
                        <div class="p-5 shadow mt-5 rounded-xl  bg-white">

                            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

                            <div class="">
                                <div class="h-[213px]">
                                    <canvas style=" display: block; box-sizing: border-box; height: 213px; width: 275px;"
                                            class="text-white " id="gender-static"></canvas>
                                </div>

                                <script>
                                    Chart.defaults.color = '#000000';
                                    new Chart(document.getElementById("gender-static"), {

                                        type: 'pie',
                                        data: {
                                            labels: ["Женщин", "Мужчин"],
                                            datasets: [{
                                                label: "Кол-во участников",
                                                backgroundColor: ["#f43f5e", "#0ea5e9"],
                                                data: [{{ runners_womens}}, {{ runners_mens}}]
                                            }]
                                        },
                                        options: {

                                            legend: {
                                                display: false
                                            },
                                        }

                                    });
                                </script>
                                <div class="mx-auto mt-8 w-52 sm:w-auto">
                                    <div class="flex items-center">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-rose-500"></div>
                                        <span class="truncate">Участвует женщин</span>
                                        <span class="ml-auto font-medium">{{ runners_womens }} чел.</span>
                                    </div>
                                    <div class="flex items-center mt-4">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-sky-500"></div>
                                        <span class="truncate">Участвует мужчин</span>
                                        <span class="ml-auto font-medium">{{ runners_mens }} чел.</span>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Chart category -->
                    <div class="">
                        <div class="flex items-center">
                            <h2 class="mr-5 text-lg font-semibold truncate">Диаграмма
                                категорий</h2></div>
                        <div class="p-5 shadow mt-5 rounded-xl bg-white">

                            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

                            <div class="font-sans leading-normal tracking-normal">
                                <div class="h-[213px]">
                                    <canvas style=" display: block; box-sizing: border-box; height: 213px; width: 275px;"
                                            class="text-white " id="category-static"></canvas>
                                </div>
                                <script>
                                    Chart.defaults.color = '#000000';
                                    new Chart(document.getElementById("category-static"), {

                                        type: "doughnut",
                                        data: {
                                            labels: ["Новичок", "Любитель", "Профи"],
                                            datasets: [{
                                                label: "Кол-во участников",
                                                backgroundColor: ["#facc15", "#22c55e", "#0ea5e9"],
                                                data: [{{ runners_cat1 }}, {{ runners_cat2}}, {{ runners_cat3}}]
                                            }]
                                        },
                                        options: {

                                            legend: {
                                                display: false
                                            },
                                        }

                                    });
                                </script>
                                <div class="mx-auto mt-8 w-52 sm:w-auto">
                                    <div class="flex items-center">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-yellow-400"></div>
                                        <span class="truncate">Категория Новичок</span>
                                        <span class="ml-auto font-medium">{{ runners_cat1 }} чел.</span>
                                    </div>
                                    <div class="flex items-center mt-4">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-green-500"></div>
                                        <span class="truncate">Категория Любитель</span>
                                        <span class="ml-auto font-medium">{{ runners_cat2 }} чел.</span>
                                    </div>
                                    <div class="flex items-center mt-4">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-sky-500"></div>
                                        <span class="truncate">Категория Профи</span>
                                        <span class="ml-auto font-medium">{{ runners_cat3 }} чел.</span>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>


                    <!-- Chart category -->
                    <div class="">
                        <div class="flex items-center">
                            <h2 class="mr-5 text-lg font-semibold truncate">Диаграмма
                                по возрастам</h2></div>
                        <div class="p-5 shadow mt-5 rounded-xl bg-white">

                            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

                            <div class="font-sans leading-normal tracking-normal">
                                <div class="h-[213px]">
                                    <canvas style=" display: block; box-sizing: border-box; height: 213px; width: 275px;"
                                            class="text-white " id="age-static"></canvas>
                                </div>
                                <script>
                                    Chart.defaults.color = '#000000';
                                    new Chart(document.getElementById("age-static"), {

                                        type: "doughnut",
                                        data: {
                                            labels: ["Новичок", "Любитель", "Профи"],
                                            datasets: [{
                                                label: "Кол-во участников",
                                                backgroundColor: ["#facc15", "#22c55e", "#7899a9","#1e5571","#2b5371",],
                                                data: [{% for age, value in count_of_ages.items %},{{ value }} {% endfor %}]
                                            }]
                                        },
                                        options: {

                                            legend: {
                                                display: false
                                            },
                                        }

                                    });
                                </script>

                                    <div class="mx-auto mt-8 w-52 sm:w-auto">
                                    <div class="flex items-center">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-yellow-400"></div>
                                        <span class="truncate">до 18 лет</span>
                                        <span class="ml-auto font-medium">{{ count_of_ages.under_18 }} чел.</span>
                                    </div>
                                    <div class="flex items-center mt-4">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-green-500"></div>
                                        <span class="truncate">19-30 лет</span>
                                        <span class="ml-auto font-medium">{{ count_of_ages.age_18_30 }} чел.</span>
                                    </div>
                                    <div class="flex items-center mt-4">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-sky-500"></div>
                                        <span class="truncate">31-40 лет</span>
                                        <span class="ml-auto font-medium">{{ count_of_ages.age_30_40 }} чел.</span>
                                    </div>
                                    <div class="flex items-center mt-4">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-green-500"></div>
                                        <span class="truncate">41-50 лет</span>
                                        <span class="ml-auto font-medium">{{ count_of_ages.age_40_50 }} чел.</span>
                                    </div>
                                    <div class="flex items-center mt-4">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-sky-500"></div>
                                        <span class="truncate">старше 50</span>
                                        <span class="ml-auto font-medium">{{ count_of_ages.age_over_50 }} чел.</span>
                                    </div>


                                </div>
                            </div>
                        </div>
                    </div>

                </div>


                <div class="flex flex-col flex-1 ">


                    <!-- Верхний ряд -->
                    <div class="">
                        <h1 class="mx-auto text-center lg:text-left text-lg font-semibold truncate">Общие сведения</h1>


                        <div class="grid  grid-cols-12 gap-6 mt-5">

                            <div class="bg-white  rounded-xl shadow col-span-12 sm:col-span-6 xl:col-span-3">
                                <div class="p-5">
                                    <div class="flex">

                                        <svg width="32px" height="32px" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--gis" preserveAspectRatio="xMidYMid meet" fill="#342828" stroke="#342828"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M21 32C9.459 32 0 41.43 0 52.94c0 4.46 1.424 8.605 3.835 12.012l14.603 25.244c2.045 2.672 3.405 2.165 5.106-.14l16.106-27.41c.325-.59.58-1.216.803-1.856A20.668 20.668 0 0 0 42 52.94C42 41.43 32.544 32 21 32zm0 9.812c6.216 0 11.16 4.931 11.16 11.129c0 6.198-4.944 11.127-11.16 11.127c-6.215 0-11.16-4.93-11.16-11.127c0-6.198 4.945-11.129 11.16-11.129z" fill="#808080"></path><path d="M87.75 0C81.018 0 75.5 5.501 75.5 12.216c0 2.601.83 5.019 2.237 7.006l8.519 14.726c1.193 1.558 1.986 1.262 2.978-.082l9.395-15.99c.19-.343.339-.708.468-1.082a12.05 12.05 0 0 0 .903-4.578C100 5.5 94.484 0 87.75 0zm0 5.724c3.626 0 6.51 2.876 6.51 6.492c0 3.615-2.884 6.49-6.51 6.49c-3.625 0-6.51-2.875-6.51-6.49c0-3.616 2.885-6.492 6.51-6.492z" fill="#808080"></path><path d="M88.209 37.412c-2.247.05-4.5.145-6.757.312l.348 5.532a126.32 126.32 0 0 1 6.513-.303zm-11.975.82c-3.47.431-6.97 1.045-10.43 2.032l1.303 5.361c3.144-.896 6.402-1.475 9.711-1.886zM60.623 42.12a24.52 24.52 0 0 0-3.004 1.583l-.004.005l-.006.002c-1.375.866-2.824 1.965-4.007 3.562c-.857 1.157-1.558 2.62-1.722 4.35l5.095.565c.038-.406.246-.942.62-1.446h.002v-.002c.603-.816 1.507-1.557 2.582-2.235l.004-.002a19.64 19.64 0 0 1 2.388-1.256zM58 54.655l-3.303 4.235c.783.716 1.604 1.266 2.397 1.726l.01.005l.01.006c2.632 1.497 5.346 2.342 7.862 3.144l1.446-5.318c-2.515-.802-4.886-1.576-6.918-2.73c-.582-.338-1.092-.691-1.504-1.068zm13.335 5.294l-1.412 5.327l.668.208l.82.262c2.714.883 5.314 1.826 7.638 3.131l2.358-4.92c-2.81-1.579-5.727-2.611-8.538-3.525l-.008-.002l-.842-.269zm14.867 7.7l-3.623 3.92c.856.927 1.497 2.042 1.809 3.194l.002.006l.002.009c.372 1.345.373 2.927.082 4.525l5.024 1.072c.41-2.256.476-4.733-.198-7.178c-.587-2.162-1.707-4.04-3.098-5.548zM82.72 82.643a11.84 11.84 0 0 1-1.826 1.572h-.002c-1.8 1.266-3.888 2.22-6.106 3.04l1.654 5.244c2.426-.897 4.917-1.997 7.245-3.635l.006-.005l.003-.002a16.95 16.95 0 0 0 2.639-2.287zm-12.64 6.089c-3.213.864-6.497 1.522-9.821 2.08l.784 5.479c3.421-.575 6.856-1.262 10.27-2.18zm-14.822 2.836c-3.346.457-6.71.83-10.084 1.148l.442 5.522c3.426-.322 6.858-.701 10.285-1.17zm-15.155 1.583c-3.381.268-6.77.486-10.162.67l.256 5.536c3.425-.185 6.853-.406 10.28-.678zm-15.259.92c-2.033.095-4.071.173-6.114.245l.168 5.541a560.1 560.1 0 0 0 6.166-.246z" fill="#808080" fill-rule="evenodd"></path></g></svg>
                                    </div>
                                    <div class="mt-6 text-3xl font-semibold leading-8">{{ total_distance }}</div>
                                    <div class="mt-1 text-base text-slate-500">Расстояние</div>
                                </div>
                            </div>
                            <div class="bg-white  rounded-xl shadow col-span-12 sm:col-span-6 xl:col-span-3">
                                <div class="p-5">
                                    <div class="flex">
                                        <svg class="h-6 w-6" fill="#808080" height="200px" width="200px" version="1.1"
                                             id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                                             xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512"
                                             xml:space="preserve" stroke="#808080" stroke-width="4.608"><g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round"
                                               stroke-linejoin="round"></g>
                                            <g id="SVGRepo_iconCarrier"> <g> <g> <g> <path
                                                    d="M196.267,409.597h-153.6c-4.71,0-8.533,3.823-8.533,8.533s3.823,8.533,8.533,8.533h153.6c4.71,0,8.533-3.823,8.533-8.533 S200.977,409.597,196.267,409.597z"></path>
                                                <path d="M25.6,324.263h68.267c4.71,0,8.533-3.823,8.533-8.533s-3.823-8.533-8.533-8.533H25.6c-4.71,0-8.533,3.823-8.533,8.533 S20.89,324.263,25.6,324.263z"></path>
                                                <path d="M153.6,366.93c0-4.71-3.823-8.533-8.533-8.533H8.533c-4.71,0-8.533,3.823-8.533,8.533s3.823,8.533,8.533,8.533h136.533 C149.777,375.463,153.6,371.64,153.6,366.93z"></path>
                                                <path d="M435.2,375.463H384c-4.71,0-8.533,3.823-8.533,8.533s3.823,8.533,8.533,8.533h51.2c31.13,0,55.202,21.495,59.11,51.2 H353.399L80.333,170.663L209.143,41.853c7.074,22.46,23.33,66.15,49.357,92.177c29.158,29.167,79.761,35.115,99.9,36.326v68.574 h-20.147c-2.961-5.077-8.405-8.533-14.694-8.533c-9.412,0-17.067,7.654-17.067,17.067c0,9.412,7.654,17.067,17.067,17.067 c6.289,0,11.733-3.456,14.694-8.533H358.4v51.2h-20.147c-2.961-5.077-8.405-8.533-14.694-8.533 c-9.412,0-17.067,7.654-17.067,17.067s7.654,17.067,17.067,17.067c6.289,0,11.733-3.456,14.694-8.533H358.4v8.533 c0,2.261,0.896,4.437,2.5,6.033l17.067,17.067c3.337,3.337,8.73,3.337,12.066,0c3.337-3.336,3.337-8.73,0-12.066l-14.566-14.566 V162.13c0-4.71-3.823-8.533-8.533-8.533c-0.649,0-65.092-0.358-96.367-31.633c-32.034-32.034-48.794-97.783-48.956-98.441 c-0.751-2.978-3.038-5.333-5.999-6.153c-2.978-0.802-6.144,0.026-8.311,2.193L62.242,164.622c0,0-0.009,0-0.009,0.009 c-0.008,0-0.008,0.009-0.008,0.009l-11.657,11.665c-10.641,10.633-10.325,29.602,0.666,40.593l266.999,266.999 c1.126,1.126,11.503,11.034,27.768,11.034H486.4c14.353,0,25.6-11.247,25.6-25.6v-17.067 C512,409.196,478.268,375.463,435.2,375.463z M494.933,469.33c0,4.864-3.669,8.533-8.533,8.533H346.001 c-9.31,0-15.693-6.033-15.701-6.033l-266.999-267c-4.403-4.403-4.727-12.407-0.666-16.461l5.632-5.641l275.567,275.567 c1.596,1.604,3.772,2.5,6.033,2.5h145.067V469.33z"></path>
                                                <path d="M273.067,230.397v102.4c0,4.71,3.823,8.533,8.533,8.533s8.533-3.823,8.533-8.533v-102.4c0-4.71-3.823-8.533-8.533-8.533 S273.067,225.686,273.067,230.397z"></path>
                                                <path d="M332.715,202.971c4.173,0,7.825-3.063,8.431-7.322c0.674-4.659-2.569-8.986-7.236-9.66 c-56.977-8.183-105.634-44.305-130.15-96.614c-1.997-4.267-7.066-6.093-11.349-4.105c-4.267,2.005-6.101,7.083-4.105,11.349 c26.965,57.532,80.495,97.263,143.181,106.266C331.904,202.945,332.305,202.971,332.715,202.971z"></path> </g> </g> </g> </g>
                            </svg>
                                    </div>
                                    <div class="mt-6 text-3xl font-semibold leading-8">{{ total_time }}</div>
                                    <div class="mt-1 text-base text-slate-500">Время</div>
                                </div>
                            </div>

                            <div class="bg-white  rounded-xl shadow col-span-12 sm:col-span-6 xl:col-span-3">
                                <div class="p-5">
                                    <div class="flex">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                             stroke-width="1.5" stroke="currentColor" class="size-6 text-gray-500">
                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                  d="M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"/>
                                        </svg>

                                    </div>
                                    <div class="mt-6 text-3xl font-semibold leading-8">{{ total_runs }}</div>
                                    <div class="mt-1 text-base text-slate-500">Пробежки</div>
                                </div>
                            </div>
                            <div class="bg-white  rounded-xl shadow col-span-12 sm:col-span-6 xl:col-span-3">
                                <div class="p-5">
                                    <div class="flex">
                                        <svg height="32px" width="32px" version="1.1" id="Capa_1"
                                             xmlns="http://www.w3.org/2000/svg"
                                             xmlns:xlink="http://www.w3.org/1999/xlink"
                                             viewBox="-5.94 -5.94 71.26 71.26" xml:space="preserve" fill="#6f6d6d"
                                             stroke="#6f6d6d" stroke-width="1.662752"
                                             transform="rotate(0)matrix(1, 0, 0, 1, 0, 0)"><g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"
                                               stroke="#CCCCCC" stroke-width="0.712608"></g>
                                            <g id="SVGRepo_iconCarrier"> <g> <g> <circle style="fill:#d6d6d6;"
                                                                                         cx="16.369" cy="16.19"
                                                                                         r="4.256"></circle>
                                                <path style="fill:#d6d6d6;"
                                                      d="M19.733,35.119c0.312-1.92,2.079-3.082,3.909-2.472l3.916,1.308 c-0.794-1.349-1.517-2.733-2.088-4.191c-0.079-0.197-0.179-0.367-0.289-0.524l-0.805-2.23c2.235,0.886,4.438,1.846,6.601,2.915 c0.141,0.069,0.279,0.117,0.418,0.156c-1.7-1.125-2.65-3.203-2.238-5.325c0.033-0.167,0.091-0.322,0.14-0.483 c-2.708-1.19-5.462-2.27-8.268-3.22c-0.103-0.036-0.201-0.049-0.299-0.069c-0.531-0.2-1.128-0.294-1.795-0.249 c-1.215,0.084-2.508,0.826-3.307,1.879c-1.243,1.171-2.487,2.344-3.731,3.516c-2.145-0.716-4.292-1.432-6.437-2.147 c-2.727-0.908-3.885,3.383-1.183,4.284c2.53,0.843,5.059,1.687,7.589,2.528c0.756,0.252,1.603-0.045,2.159-0.569 c0.561-0.529,1.121-1.057,1.681-1.585c0.71,2.434,1.366,3.707,1.366,3.707s0.375,0.738,1.026,1.499 c-1.474,4.424-3.148,8.776-4.823,13.131c-1.031,2.677,3.265,3.823,4.283,1.183c1.248-3.238,2.494-6.479,3.657-9.744 C19.951,37.675,19.541,36.294,19.733,35.119z"></path>
                                                <circle style="fill:#d6d6d6;" cx="34.318" cy="25.916"
                                                        r="4.256"></circle>
                                                <path style="fill:#d6d6d6;"
                                                      d="M50.118,44.199c-0.978,0.775-1.88,1.555-2.848,2.271c-1.493-2.206-2.877-4.499-3.854-6.982 c-0.078-0.197-0.179-0.369-0.289-0.523l-0.805-2.231c2.235,0.888,4.439,1.849,6.602,2.916c2.561,1.263,4.812-2.567,2.242-3.837 c-3.949-1.948-8.021-3.624-12.189-5.035c-0.105-0.035-0.201-0.049-0.301-0.07c-0.53-0.199-1.127-0.293-1.795-0.246 c-1.215,0.084-2.508,0.824-3.307,1.879c-1.244,1.17-2.486,2.344-3.732,3.516c-2.146-0.716-4.292-1.432-6.436-2.146 c-2.727-0.91-3.885,3.383-1.183,4.282c2.531,0.845,5.059,1.688,7.589,2.53c0.756,0.253,1.604-0.046,2.159-0.571 c0.562-0.526,1.12-1.057,1.682-1.585c0.71,2.436,1.365,3.707,1.365,3.707s0.375,0.739,1.024,1.501 c-1.473,4.425-3.146,8.776-4.821,13.13c-1.031,2.678,3.265,3.824,4.282,1.182c1.664-4.319,3.324-8.639,4.789-13.026 c0.088-0.044,0.172-0.075,0.262-0.129c0.134-0.048,0.259-0.11,0.38-0.181c1.129,2.111,2.437,4.117,3.836,6.094 c0.708,0.998,1.914,1.43,3.038,0.796c2.027-1.142,3.639-2.659,5.447-4.095C55.502,45.561,52.336,42.44,50.118,44.199z"></path>
                                                <circle style="fill:#d6d6d6;" cx="36.936" cy="4.255" r="4.255"></circle>
                                                <path style="fill:#d6d6d6;"
                                                      d="M52.736,22.538c-0.978,0.776-1.88,1.555-2.848,2.273c-1.494-2.208-2.878-4.5-3.853-6.983 c-0.078-0.199-0.18-0.368-0.291-0.524l-0.804-2.231c2.235,0.886,4.438,1.848,6.603,2.915c2.56,1.263,4.812-2.568,2.24-3.835 c-3.949-1.95-8.02-3.625-12.188-5.036c-0.104-0.035-0.201-0.05-0.302-0.069c-0.529-0.2-1.127-0.296-1.793-0.249 c-1.217,0.083-2.508,0.826-3.308,1.879c-1.244,1.171-2.487,2.343-3.731,3.516c-2.146-0.716-4.292-1.431-6.437-2.147 c-2.728-0.908-3.885,3.382-1.183,4.283c2.53,0.844,5.058,1.688,7.589,2.53c0.756,0.252,1.604-0.046,2.157-0.572 c0.563-0.527,1.123-1.056,1.683-1.583c0.711,2.434,1.367,3.707,1.367,3.707s0.375,0.738,1.022,1.5 c-0.041,0.127-0.088,0.252-0.129,0.378c1.004,1.256,1.477,2.927,1.146,4.625c-0.166,0.856-0.538,1.621-1.033,2.286 c0.07,0.021,0.143,0.038,0.211,0.062c0.141,0.028,0.254,0.057,0.373,0.097c0.443,0.15,0.883,0.316,1.325,0.473 c0.819-2.2,1.612-4.408,2.358-6.635c0.086-0.044,0.17-0.075,0.26-0.13c0.133-0.047,0.258-0.11,0.377-0.179 c1.132,2.111,2.438,4.117,3.839,6.092c0.708,0.999,1.913,1.431,3.038,0.797c2.027-1.142,3.638-2.66,5.449-4.095 C58.12,23.9,54.956,20.78,52.736,22.538z"></path> </g> </g> </g></svg>

                                    </div>
                                    <div class="mt-6 text-3xl font-semibold leading-8">{{ total_runners }}</div>
                                    <div class="mt-1 text-base text-slate-500">Участники</div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <!-- Таблица -->
                    <h1 class=" text-left text-lg mt-5 font-semibold truncate"> Статистика по пробежкам</h1>

                    <div class=" w-full mt-5 bg-white shadow  rounded-xl">
                        <!-- Chart general -->
                        <div class="flex items-center">

                            <div class="p-5 ">

                                <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

                                <div class="font-sans leading-normal tracking-normal">
                                    <div class="h-[275px]">
                                        <canvas style="display: block; box-sizing: border-box; height: 275px; width: 630px;"
                                                class="mt-6 -mb-6 " id="general-static"></canvas>
                                    </div>
                                    <script>
                                        const xValues = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10",
                                            "11", "12", "13", "14", "15", "16", "17", "18", "19", "20",
                                            "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31"
                                        ];


                                        {#const yValues = [55, 49, 44, 24, 20, 49, 44, 24, 20, 49, 44, 24, 15, 49, 44, 24, 20, 49, 44, 24, 20, 24, 15, 49, 44, 24, 20, 49, 44, 24, 20];#}
                                        const yValues = [{% for x in count_of_run_every_day %}, {{ x }} {% endfor %}]

                                        {#const lValues = [60, 49, 44, 24, 20, 49, 44, 24, 20, 49, 44, 24, 15, 49, 44, 24, 20, 49, 44, 24, 20, 24, 15, 49, 44, 24, 20, 49, 44, 24, 20];#}

                                        const lValues = [{% for x in distance_every_day %}, {{x}} {% endfor %}]

                                        new Chart("general-static", {
                                            type: "bar",
                                            options: {
                                                legend: {display: false}
                                            },
                                            data: {
                                                labels: xValues,
                                                datasets: [
                                                    {
                                                        type: "bar",
                                                        data: yValues,
                                                        borderColor: 'rgba(0, 99, 132, 0.6)',
                                                        backgroundColor: 'rgba(0, 99, 132, 0.6)',
                                                        order: 1
                                                    },
                                                    {
                                                        data: lValues,
                                                        borderColor: "#0ea5e9",
                                                        //   backgroundColor: "#0ea5e9",
                                                        type: 'line',
                                                        order: 0
                                                    }
                                                ]
                                            },
                                        });

                                    </script>

                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </main>
    </div>

{% endblock %}

{#{% block calend %}#}
{#    {% for value in calend %}#}
{##}
{#        <a href="/day_selected/{{ value }}" class="day-selected">{{ value }}</a>#}
{##}
{#    {% endfor %}#}
{#{% endblock %}#}