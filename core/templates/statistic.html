{% extends 'base.html' %}
{% load static %}
{% load time_tag %}

{% load translate %}
{% block content %}

    {% load okon4_tag %}
    {% csrf_token %}



    <div class=" mx-5 ">
        <div class="hidden md:flex text-center bg-sky-700 flex-col rounded-t-2xl pb-10 mx-10"></div>
        <main class="flex flex-col justify-center rounded-2xl pb-3 pt-10 bg-sky-900 h-full">
            <div class="flex lg:gap-5 flex-col lg:flex-row  bg-gray-200 mb-3  rounded-2xl w-full p-3 my-3 md:p-6 md:my-0">

                <!-- sidebar  -->

                <div class="">


                    <!-- Chart gender -->
                    <div class="">
                        <div class="flex items-center">
                            <h2 class="mr-5 text-lg font-semibold truncate">Диаграмма
                                участников по полу</h2></div>
                        <div class="p-5 shadow mt-5 rounded-xl  bg-white">

                            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

                            <div class="">
                                <div class="h-[213px]">
                                    <canvas style=" display: block; box-sizing: border-box; height: 213px; width: 275px;"
                                            class="text-white " id="gender-static"></canvas>
                                </div>

                                <script>
                                    Chart.defaults.color = '#000000';
                                    new Chart(document.getElementById("gender-static"), {

                                        type: 'pie',
                                        data: {
                                            labels: ["Женщин", "Мужчин"],
                                            datasets: [{
                                                label: "Кол-во участников",
                                                backgroundColor: ["#f43f5e", "#0ea5e9"],
                                                data: [{{ runners_womens}}, {{ runners_mens}}]
                                            }]
                                        },
                                        options: {

                                            legend: {
                                                display: false
                                            },
                                        }

                                    });
                                </script>
                                <div class="mx-auto mt-8 w-52 sm:w-auto">
                                    <div class="flex items-center">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-rose-500"></div>
                                        <span class="truncate">Женщин</span>
                                        <span class="ml-auto font-medium">{{ runners_womens }} чел.</span>
                                    </div>
                                    <div class="flex items-center mt-4">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-sky-500"></div>
                                        <span class="truncate">Мужчин</span>
                                        <span class="ml-auto font-medium">{{ runners_mens }} чел.</span>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Chart category -->
                    <div class="">
                        <div class="flex items-center">
                            <h2 class="mr-5 text-lg font-semibold truncate">Диаграмма
                                категорий</h2></div>
                        <div class="p-5 shadow mt-5 rounded-xl bg-white">

                            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

                            <div class="font-sans leading-normal tracking-normal">
                                <div class="h-[213px]">
                                    <canvas style=" display: block; box-sizing: border-box; height: 213px; width: 275px;"
                                            class="text-white " id="category-static"></canvas>
                                </div>
                                <script>
                                    Chart.defaults.color = '#000000';
                                    new Chart(document.getElementById("category-static"), {

                                        type: "doughnut",
                                        data: {
                                            labels: ["Новичок", "Любитель", "Профи"],
                                            datasets: [{
                                                label: "Кол-во участников",
                                                backgroundColor: ["#facc15", "#22c55e", "#0ea5e9"],
                                                data: [{{ runners_cat1 }}, {{ runners_cat2}}, {{ runners_cat3}}]
                                            }]
                                        },
                                        options: {

                                            legend: {
                                                display: false
                                            },
                                        }

                                    });
                                </script>
                                <div class="mx-auto mt-8 w-52 sm:w-auto">
                                    <div class="flex items-center">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-yellow-400"></div>
                                        <span class="truncate">Новичок</span>
                                        <span class="ml-auto font-medium">{{ runners_cat1 }} чел.</span>
                                    </div>
                                    <div class="flex items-center mt-4">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-green-500"></div>
                                        <span class="truncate">Любитель</span>
                                        <span class="ml-auto font-medium">{{ runners_cat2 }} чел.</span>
                                    </div>
                                    <div class="flex items-center mt-4">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-sky-500"></div>
                                        <span class="truncate">Профи</span>
                                        <span class="ml-auto font-medium">{{ runners_cat3 }} чел.</span>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>


                    <!-- Chart category -->
                    <div class="">
                        <div class="flex items-center">
                            <h2 class="mr-5 text-lg font-semibold truncate ">Диаграмма
                                по возрастам</h2></div>
                        <div class="p-5 shadow mt-5 rounded-xl bg-white">

                            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

                            <div class="font-sans leading-normal tracking-normal">
                                <div class="h-[213px]">
                                    <canvas style=" display: block; box-sizing: border-box; height: 213px; width: 275px;"
                                            class="text-white " id="age-static"></canvas>
                                </div>
                                <script>
                                    Chart.defaults.color = '#000000';
                                    new Chart(document.getElementById("age-static"), {

                                        type: "doughnut",
                                        data: {
                                            labels: ["до 18", "18-35", "36-49", 'старше 50'],
                                            datasets: [{
                                                label: "Кол-во участников",
                                                backgroundColor: ["#22c55e", "#0ea5e9", '#f43f5e', "#7899a9", "#1e5571"],
                                                data: [{% for age, value in count_of_ages.items %}{{ value }}, {% endfor %}]
                                            }]
                                        },
                                        options: {

                                            legend: {
                                                display: false
                                            },
                                        }

                                    });
                                </script>

                                <div class="mx-auto mt-8 w-52 sm:w-auto">
                                    <div class="flex items-center justify-content-center">

                                        <div class="w-2 h-2 mr-3 rounded-full bg-green-500 "></div>
                                        <span class="truncate">до 18 лет</span>
                                        <span class="ml-auto font-medium">{{ count_of_ages.under_18 }} чел.</span>
                                    </div>
                                    <div class="flex items-center mt-4">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-sky-500"></div>

                                        <span class="truncate">18-35 лет</span>
                                        <span class="ml-auto font-medium">{{ count_of_ages.age_18_35 }} чел.</span>
                                    </div>
                                    <div class="flex items-center mt-4">
                                        {#                                        <div class="w-2 h-2 mr-3 rounded-full bg-yellow-400"></div>#}
                                        <div class="w-2 h-2 mr-3 rounded-full bg-rose-500"></div>
                                        <span class="truncate">36-49 лет</span>
                                        <span class="ml-auto font-medium">{{ count_of_ages.age_36_49 }} чел.</span>
                                    </div>

                                    <div class="flex items-center mt-4">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-gray-700"></div>
                                        <span class="truncate">старше 50</span>
                                        <span class="ml-auto font-medium">{{ count_of_ages.age_over_50 }} чел.</span>
                                    </div>


                                </div>
                            </div>
                        </div>
                    </div>

                </div>


                <div class="flex flex-col flex-1 ">


                    <!-- Верхний ряд -->
                    <div class="">
                        <h1 class="mx-auto text-center lg:text-left text-lg font-semibold truncate">Общие сведения</h1>


                        <div class="grid  grid-cols-12 gap-6 mt-5">

                            <div class="bg-white  rounded-xl shadow col-span-12 sm:col-span-6 xl:col-span-3">
                                <div class="p-5">
                                    <div class="flex">

                                        <svg width="32px" height="32px" viewBox="0 0 100 100"
                                             xmlns="http://www.w3.org/2000/svg"
                                             xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img"
                                             class="iconify iconify--gis" preserveAspectRatio="xMidYMid meet"
                                             fill="#342828" stroke="#342828">
                                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round"
                                               stroke-linejoin="round"></g>
                                            <g id="SVGRepo_iconCarrier">
                                                <path d="M21 32C9.459 32 0 41.43 0 52.94c0 4.46 1.424 8.605 3.835 12.012l14.603 25.244c2.045 2.672 3.405 2.165 5.106-.14l16.106-27.41c.325-.59.58-1.216.803-1.856A20.668 20.668 0 0 0 42 52.94C42 41.43 32.544 32 21 32zm0 9.812c6.216 0 11.16 4.931 11.16 11.129c0 6.198-4.944 11.127-11.16 11.127c-6.215 0-11.16-4.93-11.16-11.127c0-6.198 4.945-11.129 11.16-11.129z"
                                                      fill="#808080"></path>
                                                <path d="M87.75 0C81.018 0 75.5 5.501 75.5 12.216c0 2.601.83 5.019 2.237 7.006l8.519 14.726c1.193 1.558 1.986 1.262 2.978-.082l9.395-15.99c.19-.343.339-.708.468-1.082a12.05 12.05 0 0 0 .903-4.578C100 5.5 94.484 0 87.75 0zm0 5.724c3.626 0 6.51 2.876 6.51 6.492c0 3.615-2.884 6.49-6.51 6.49c-3.625 0-6.51-2.875-6.51-6.49c0-3.616 2.885-6.492 6.51-6.492z"
                                                      fill="#808080"></path>
                                                <path d="M88.209 37.412c-2.247.05-4.5.145-6.757.312l.348 5.532a126.32 126.32 0 0 1 6.513-.303zm-11.975.82c-3.47.431-6.97 1.045-10.43 2.032l1.303 5.361c3.144-.896 6.402-1.475 9.711-1.886zM60.623 42.12a24.52 24.52 0 0 0-3.004 1.583l-.004.005l-.006.002c-1.375.866-2.824 1.965-4.007 3.562c-.857 1.157-1.558 2.62-1.722 4.35l5.095.565c.038-.406.246-.942.62-1.446h.002v-.002c.603-.816 1.507-1.557 2.582-2.235l.004-.002a19.64 19.64 0 0 1 2.388-1.256zM58 54.655l-3.303 4.235c.783.716 1.604 1.266 2.397 1.726l.01.005l.01.006c2.632 1.497 5.346 2.342 7.862 3.144l1.446-5.318c-2.515-.802-4.886-1.576-6.918-2.73c-.582-.338-1.092-.691-1.504-1.068zm13.335 5.294l-1.412 5.327l.668.208l.82.262c2.714.883 5.314 1.826 7.638 3.131l2.358-4.92c-2.81-1.579-5.727-2.611-8.538-3.525l-.008-.002l-.842-.269zm14.867 7.7l-3.623 3.92c.856.927 1.497 2.042 1.809 3.194l.002.006l.002.009c.372 1.345.373 2.927.082 4.525l5.024 1.072c.41-2.256.476-4.733-.198-7.178c-.587-2.162-1.707-4.04-3.098-5.548zM82.72 82.643a11.84 11.84 0 0 1-1.826 1.572h-.002c-1.8 1.266-3.888 2.22-6.106 3.04l1.654 5.244c2.426-.897 4.917-1.997 7.245-3.635l.006-.005l.003-.002a16.95 16.95 0 0 0 2.639-2.287zm-12.64 6.089c-3.213.864-6.497 1.522-9.821 2.08l.784 5.479c3.421-.575 6.856-1.262 10.27-2.18zm-14.822 2.836c-3.346.457-6.71.83-10.084 1.148l.442 5.522c3.426-.322 6.858-.701 10.285-1.17zm-15.155 1.583c-3.381.268-6.77.486-10.162.67l.256 5.536c3.425-.185 6.853-.406 10.28-.678zm-15.259.92c-2.033.095-4.071.173-6.114.245l.168 5.541a560.1 560.1 0 0 0 6.166-.246z"
                                                      fill="#808080" fill-rule="evenodd"></path>
                                            </g>
                                        </svg>
                                    </div>
                                    <div class="mt-6 text-3xl font-semibold leading-8">{{ total_distance|floatformat:3 }}
                                        км
                                    </div>
                                    <div class="mt-1 text-base text-slate-500">Расстояние</div>
                                </div>
                            </div>
                            <div class="bg-white  rounded-xl shadow col-span-12 sm:col-span-6 xl:col-span-3">
                                <div class="p-5">
                                    <div class="flex">

                                        <svg fill="#7a7a7a" height="32px" width="32px" version="1.1" id="Capa_1"
                                             xmlns="http://www.w3.org/2000/svg"
                                             xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 60 60"
                                             xml:space="preserve" stroke="#7a7a7a"><g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round"
                                               stroke-linejoin="round"></g>
                                            <g id="SVGRepo_iconCarrier"> <g> <path
                                                    d="M52.179,42.429l-5.596,8.04l-3.949-3.241c-0.426-0.351-1.057-0.287-1.407,0.138c-0.351,0.427-0.289,1.058,0.139,1.407 l4.786,3.929c0.18,0.148,0.404,0.228,0.634,0.228c0.045,0,0.091-0.003,0.137-0.01c0.276-0.038,0.524-0.19,0.684-0.419l6.214-8.929 c0.315-0.453,0.204-1.076-0.25-1.392C53.117,41.861,52.495,41.975,52.179,42.429z"></path>
                                                <path d="M31,26.021V15.879c0-0.553-0.448-1-1-1s-1,0.447-1,1v10.142c-1.44,0.374-2.567,1.521-2.896,2.979H19c-0.552,0-1,0.447-1,1 s0.448,1,1,1h7.18c0.488,1.658,2.006,2.879,3.82,2.879c2.206,0,4-1.794,4-4C34,28.02,32.72,26.468,31,26.021z M30,31.879 c-1.103,0-2-0.897-2-2s0.897-2,2-2s2,0.897,2,2S31.103,31.879,30,31.879z"></path>
                                                <path d="M30,9.879c0.552,0,1-0.447,1-1v-1c0-0.553-0.448-1-1-1s-1,0.447-1,1v1C29,9.432,29.448,9.879,30,9.879z"></path>
                                                <path d="M30,49.879c-0.552,0-1,0.447-1,1v1c0,0.553,0.448,1,1,1s1-0.447,1-1v-1C31,50.326,30.552,49.879,30,49.879z"></path>
                                                <path d="M51,30.879h1c0.552,0,1-0.447,1-1s-0.448-1-1-1h-1c-0.552,0-1,0.447-1,1S50.448,30.879,51,30.879z"></path>
                                                <path d="M9,28.879H8c-0.552,0-1,0.447-1,1s0.448,1,1,1h1c0.552,0,1-0.447,1-1S9.552,28.879,9,28.879z"></path>
                                                <path d="M44.849,16.029c0.256,0,0.512-0.098,0.707-0.293l0.707-0.707c0.391-0.391,0.391-1.023,0-1.414s-1.023-0.391-1.414,0 l-0.707,0.707c-0.391,0.391-0.391,1.023,0,1.414C44.337,15.932,44.593,16.029,44.849,16.029z"></path>
                                                <path d="M14.444,44.021l-0.707,0.707c-0.391,0.391-0.391,1.023,0,1.414c0.195,0.195,0.451,0.293,0.707,0.293 s0.512-0.098,0.707-0.293l0.707-0.707c0.391-0.391,0.391-1.023,0-1.414S14.834,43.63,14.444,44.021z"></path>
                                                <path d="M15.151,13.615c-0.391-0.391-1.023-0.391-1.414,0s-0.391,1.023,0,1.414l0.707,0.707c0.195,0.195,0.451,0.293,0.707,0.293 s0.512-0.098,0.707-0.293c0.391-0.391,0.391-1.023,0-1.414L15.151,13.615z"></path>
                                                <path d="M60,30C60,13.458,46.542,0,30,0S0,13.458,0,30s13.458,30,30,30c3.55,0,7.028-0.627,10.35-1.85 C42.299,59.316,44.568,60,47,60c7.168,0,13-5.832,13-13c0-2.432-0.683-4.701-1.85-6.65C59.373,37.028,60,33.55,60,30z M38.375,56.719C35.667,57.569,32.858,58,30,58C14.561,58,2,45.439,2,30S14.561,2,30,2s28,12.561,28,28 c0,2.857-0.43,5.667-1.281,8.375c-0.078-0.088-0.167-0.165-0.247-0.251c-0.164-0.175-0.331-0.347-0.505-0.513 c-0.157-0.15-0.317-0.294-0.48-0.436c-0.159-0.138-0.321-0.271-0.487-0.4c-0.183-0.143-0.367-0.283-0.557-0.417 c-0.163-0.114-0.33-0.221-0.499-0.328c-0.199-0.126-0.398-0.252-0.604-0.367c-0.178-0.1-0.361-0.19-0.544-0.281 c-0.204-0.102-0.407-0.206-0.616-0.297c-0.205-0.09-0.417-0.166-0.628-0.245c-0.197-0.074-0.391-0.153-0.591-0.217 c-0.243-0.078-0.494-0.139-0.743-0.203c-0.178-0.045-0.352-0.099-0.532-0.137c-0.296-0.063-0.599-0.104-0.902-0.146 c-0.141-0.02-0.28-0.049-0.422-0.064C47.915,34.026,47.461,34,47,34c-7.168,0-13,5.832-13,13c0,0.46,0.026,0.915,0.073,1.363 c0.015,0.144,0.045,0.284,0.065,0.426c0.042,0.301,0.083,0.603,0.145,0.897c0.038,0.182,0.093,0.358,0.139,0.538 c0.063,0.247,0.123,0.495,0.201,0.736c0.065,0.203,0.145,0.399,0.219,0.598c0.078,0.208,0.153,0.417,0.242,0.62 c0.092,0.211,0.197,0.417,0.301,0.623c0.09,0.181,0.179,0.361,0.277,0.537c0.117,0.208,0.244,0.41,0.372,0.611 c0.105,0.165,0.21,0.33,0.323,0.49c0.135,0.193,0.277,0.379,0.423,0.565c0.128,0.163,0.258,0.322,0.393,0.478 c0.144,0.166,0.291,0.329,0.443,0.488c0.163,0.17,0.332,0.334,0.504,0.496C38.206,56.548,38.284,56.639,38.375,56.719z M47,58 c-2.226,0-4.296-0.669-6.029-1.81c-0.366-0.24-0.713-0.5-1.044-0.777c-0.06-0.051-0.116-0.107-0.175-0.159 c-0.249-0.218-0.487-0.447-0.714-0.685c-0.1-0.105-0.197-0.212-0.292-0.322c-0.18-0.205-0.351-0.417-0.515-0.633 c-0.089-0.118-0.181-0.233-0.265-0.354c-0.205-0.294-0.395-0.598-0.569-0.91c-0.045-0.082-0.089-0.164-0.133-0.246 c-0.166-0.315-0.317-0.638-0.451-0.969c-0.052-0.129-0.096-0.262-0.144-0.393c-0.095-0.263-0.183-0.53-0.258-0.8 c-0.039-0.141-0.076-0.282-0.109-0.425c-0.067-0.284-0.12-0.572-0.164-0.863c-0.019-0.127-0.044-0.254-0.059-0.383 C36.031,47.852,36,47.428,36,47c0-6.065,4.935-11,11-11c0.428,0,0.852,0.031,1.271,0.08c0.129,0.015,0.255,0.039,0.383,0.059 c0.29,0.044,0.578,0.097,0.862,0.164c0.143,0.034,0.285,0.07,0.426,0.11c0.27,0.075,0.536,0.162,0.799,0.257 c0.132,0.048,0.265,0.092,0.394,0.145c0.329,0.134,0.651,0.284,0.965,0.449c0.085,0.044,0.169,0.089,0.252,0.136 c0.311,0.174,0.614,0.363,0.907,0.567c0.122,0.084,0.237,0.176,0.355,0.266c0.217,0.164,0.429,0.334,0.633,0.515 c0.109,0.096,0.217,0.193,0.322,0.292c0.238,0.227,0.466,0.465,0.685,0.714c0.052,0.06,0.108,0.115,0.159,0.175 c0.277,0.33,0.536,0.677,0.776,1.042C57.331,42.704,58,44.774,58,47C58,53.065,53.065,58,47,58z"></path> </g> </g></svg>

                                    </div>
                                    <div class="mt-6 text-3xl font-semibold leading-8">{{ total_time }}</div>
                                    <div class="mt-1 text-base text-slate-500">Время</div>
                                </div>
                            </div>

                            <div class="bg-white  rounded-xl shadow col-span-12 sm:col-span-6 xl:col-span-3">
                                <div class="p-5">
                                    <div class="flex">
                                        <svg class="h-6 w-6" fill="#808080" height="200px" width="200px" version="1.1"
                                             id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                                             xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512"
                                             xml:space="preserve" stroke="#808080" stroke-width="4.608"><g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round"
                                               stroke-linejoin="round"></g>
                                            <g id="SVGRepo_iconCarrier"> <g> <g> <g> <path
                                                    d="M196.267,409.597h-153.6c-4.71,0-8.533,3.823-8.533,8.533s3.823,8.533,8.533,8.533h153.6c4.71,0,8.533-3.823,8.533-8.533 S200.977,409.597,196.267,409.597z"></path>
                                                <path d="M25.6,324.263h68.267c4.71,0,8.533-3.823,8.533-8.533s-3.823-8.533-8.533-8.533H25.6c-4.71,0-8.533,3.823-8.533,8.533 S20.89,324.263,25.6,324.263z"></path>
                                                <path d="M153.6,366.93c0-4.71-3.823-8.533-8.533-8.533H8.533c-4.71,0-8.533,3.823-8.533,8.533s3.823,8.533,8.533,8.533h136.533 C149.777,375.463,153.6,371.64,153.6,366.93z"></path>
                                                <path d="M435.2,375.463H384c-4.71,0-8.533,3.823-8.533,8.533s3.823,8.533,8.533,8.533h51.2c31.13,0,55.202,21.495,59.11,51.2 H353.399L80.333,170.663L209.143,41.853c7.074,22.46,23.33,66.15,49.357,92.177c29.158,29.167,79.761,35.115,99.9,36.326v68.574 h-20.147c-2.961-5.077-8.405-8.533-14.694-8.533c-9.412,0-17.067,7.654-17.067,17.067c0,9.412,7.654,17.067,17.067,17.067 c6.289,0,11.733-3.456,14.694-8.533H358.4v51.2h-20.147c-2.961-5.077-8.405-8.533-14.694-8.533 c-9.412,0-17.067,7.654-17.067,17.067s7.654,17.067,17.067,17.067c6.289,0,11.733-3.456,14.694-8.533H358.4v8.533 c0,2.261,0.896,4.437,2.5,6.033l17.067,17.067c3.337,3.337,8.73,3.337,12.066,0c3.337-3.336,3.337-8.73,0-12.066l-14.566-14.566 V162.13c0-4.71-3.823-8.533-8.533-8.533c-0.649,0-65.092-0.358-96.367-31.633c-32.034-32.034-48.794-97.783-48.956-98.441 c-0.751-2.978-3.038-5.333-5.999-6.153c-2.978-0.802-6.144,0.026-8.311,2.193L62.242,164.622c0,0-0.009,0-0.009,0.009 c-0.008,0-0.008,0.009-0.008,0.009l-11.657,11.665c-10.641,10.633-10.325,29.602,0.666,40.593l266.999,266.999 c1.126,1.126,11.503,11.034,27.768,11.034H486.4c14.353,0,25.6-11.247,25.6-25.6v-17.067 C512,409.196,478.268,375.463,435.2,375.463z M494.933,469.33c0,4.864-3.669,8.533-8.533,8.533H346.001 c-9.31,0-15.693-6.033-15.701-6.033l-266.999-267c-4.403-4.403-4.727-12.407-0.666-16.461l5.632-5.641l275.567,275.567 c1.596,1.604,3.772,2.5,6.033,2.5h145.067V469.33z"></path>
                                                <path d="M273.067,230.397v102.4c0,4.71,3.823,8.533,8.533,8.533s8.533-3.823,8.533-8.533v-102.4c0-4.71-3.823-8.533-8.533-8.533 S273.067,225.686,273.067,230.397z"></path>
                                                <path d="M332.715,202.971c4.173,0,7.825-3.063,8.431-7.322c0.674-4.659-2.569-8.986-7.236-9.66 c-56.977-8.183-105.634-44.305-130.15-96.614c-1.997-4.267-7.066-6.093-11.349-4.105c-4.267,2.005-6.101,7.083-4.105,11.349 c26.965,57.532,80.495,97.263,143.181,106.266C331.904,202.945,332.305,202.971,332.715,202.971z"></path> </g> </g> </g> </g>
                                            </svg>

                                    </div>
                                    <div class="mt-6 text-3xl font-semibold leading-8">{{ total_runs }}</div>
                                    <div class="mt-1 text-base text-slate-500">Пробежки</div>
                                </div>
                            </div>
                            <div class="bg-white  rounded-xl shadow col-span-12 sm:col-span-6 xl:col-span-3">
                                <div class="p-5">
                                    <div class="flex">
                                        <svg height="32px" width="32px" version="1.1" id="Capa_1"
                                             xmlns="http://www.w3.org/2000/svg"
                                             xmlns:xlink="http://www.w3.org/1999/xlink"
                                             viewBox="-5.94 -5.94 71.26 71.26" xml:space="preserve" fill="#6f6d6d"
                                             stroke="#6f6d6d" stroke-width="1.662752"
                                             transform="rotate(0)matrix(1, 0, 0, 1, 0, 0)"><g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"
                                               stroke="#CCCCCC" stroke-width="0.712608"></g>
                                            <g id="SVGRepo_iconCarrier"> <g> <g> <circle style="fill:#d6d6d6;"
                                                                                         cx="16.369" cy="16.19"
                                                                                         r="4.256"></circle>
                                                <path style="fill:#d6d6d6;"
                                                      d="M19.733,35.119c0.312-1.92,2.079-3.082,3.909-2.472l3.916,1.308 c-0.794-1.349-1.517-2.733-2.088-4.191c-0.079-0.197-0.179-0.367-0.289-0.524l-0.805-2.23c2.235,0.886,4.438,1.846,6.601,2.915 c0.141,0.069,0.279,0.117,0.418,0.156c-1.7-1.125-2.65-3.203-2.238-5.325c0.033-0.167,0.091-0.322,0.14-0.483 c-2.708-1.19-5.462-2.27-8.268-3.22c-0.103-0.036-0.201-0.049-0.299-0.069c-0.531-0.2-1.128-0.294-1.795-0.249 c-1.215,0.084-2.508,0.826-3.307,1.879c-1.243,1.171-2.487,2.344-3.731,3.516c-2.145-0.716-4.292-1.432-6.437-2.147 c-2.727-0.908-3.885,3.383-1.183,4.284c2.53,0.843,5.059,1.687,7.589,2.528c0.756,0.252,1.603-0.045,2.159-0.569 c0.561-0.529,1.121-1.057,1.681-1.585c0.71,2.434,1.366,3.707,1.366,3.707s0.375,0.738,1.026,1.499 c-1.474,4.424-3.148,8.776-4.823,13.131c-1.031,2.677,3.265,3.823,4.283,1.183c1.248-3.238,2.494-6.479,3.657-9.744 C19.951,37.675,19.541,36.294,19.733,35.119z"></path>
                                                <circle style="fill:#d6d6d6;" cx="34.318" cy="25.916"
                                                        r="4.256"></circle>
                                                <path style="fill:#d6d6d6;"
                                                      d="M50.118,44.199c-0.978,0.775-1.88,1.555-2.848,2.271c-1.493-2.206-2.877-4.499-3.854-6.982 c-0.078-0.197-0.179-0.369-0.289-0.523l-0.805-2.231c2.235,0.888,4.439,1.849,6.602,2.916c2.561,1.263,4.812-2.567,2.242-3.837 c-3.949-1.948-8.021-3.624-12.189-5.035c-0.105-0.035-0.201-0.049-0.301-0.07c-0.53-0.199-1.127-0.293-1.795-0.246 c-1.215,0.084-2.508,0.824-3.307,1.879c-1.244,1.17-2.486,2.344-3.732,3.516c-2.146-0.716-4.292-1.432-6.436-2.146 c-2.727-0.91-3.885,3.383-1.183,4.282c2.531,0.845,5.059,1.688,7.589,2.53c0.756,0.253,1.604-0.046,2.159-0.571 c0.562-0.526,1.12-1.057,1.682-1.585c0.71,2.436,1.365,3.707,1.365,3.707s0.375,0.739,1.024,1.501 c-1.473,4.425-3.146,8.776-4.821,13.13c-1.031,2.678,3.265,3.824,4.282,1.182c1.664-4.319,3.324-8.639,4.789-13.026 c0.088-0.044,0.172-0.075,0.262-0.129c0.134-0.048,0.259-0.11,0.38-0.181c1.129,2.111,2.437,4.117,3.836,6.094 c0.708,0.998,1.914,1.43,3.038,0.796c2.027-1.142,3.639-2.659,5.447-4.095C55.502,45.561,52.336,42.44,50.118,44.199z"></path>
                                                <circle style="fill:#d6d6d6;" cx="36.936" cy="4.255" r="4.255"></circle>
                                                <path style="fill:#d6d6d6;"
                                                      d="M52.736,22.538c-0.978,0.776-1.88,1.555-2.848,2.273c-1.494-2.208-2.878-4.5-3.853-6.983 c-0.078-0.199-0.18-0.368-0.291-0.524l-0.804-2.231c2.235,0.886,4.438,1.848,6.603,2.915c2.56,1.263,4.812-2.568,2.24-3.835 c-3.949-1.95-8.02-3.625-12.188-5.036c-0.104-0.035-0.201-0.05-0.302-0.069c-0.529-0.2-1.127-0.296-1.793-0.249 c-1.217,0.083-2.508,0.826-3.308,1.879c-1.244,1.171-2.487,2.343-3.731,3.516c-2.146-0.716-4.292-1.431-6.437-2.147 c-2.728-0.908-3.885,3.382-1.183,4.283c2.53,0.844,5.058,1.688,7.589,2.53c0.756,0.252,1.604-0.046,2.157-0.572 c0.563-0.527,1.123-1.056,1.683-1.583c0.711,2.434,1.367,3.707,1.367,3.707s0.375,0.738,1.022,1.5 c-0.041,0.127-0.088,0.252-0.129,0.378c1.004,1.256,1.477,2.927,1.146,4.625c-0.166,0.856-0.538,1.621-1.033,2.286 c0.07,0.021,0.143,0.038,0.211,0.062c0.141,0.028,0.254,0.057,0.373,0.097c0.443,0.15,0.883,0.316,1.325,0.473 c0.819-2.2,1.612-4.408,2.358-6.635c0.086-0.044,0.17-0.075,0.26-0.13c0.133-0.047,0.258-0.11,0.377-0.179 c1.132,2.111,2.438,4.117,3.839,6.092c0.708,0.999,1.913,1.431,3.038,0.797c2.027-1.142,3.638-2.66,5.449-4.095 C58.12,23.9,54.956,20.78,52.736,22.538z"></path> </g> </g> </g></svg>

                                    </div>
                                    <div class="mt-6 text-3xl font-semibold leading-8">{{ total_runners }}</div>
                                    <div class="mt-1 text-base text-slate-500">Участники</div>
                                    <div class="mt-6 text-3xl font-semibold leading-8">{{ have_run }}</div>
                                    <div class="mt-1 text-base text-slate-500"> Бегают</div>


                                </div>
                            </div>

                        </div>
                    </div>
                    <!-- Таблица -->
                    <!--      <h1 class=" text-left text-lg mt-5 font-semibold truncate"> Статистика по пробежкам</h1> -->

                    <div class=" w-full mt-5 bg-white shadow  rounded-xl">

                <div class="flex items-center">
                            <h2 class="mr-5 text-lg font-semibold truncate ">Диаграмма
                                по категориям среди мужчин</h2></div>
                        <div class="p-5 shadow mt-5 rounded-xl bg-white">

                            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

                            <div class="font-sans leading-normal tracking-normal">
                                <div class="h-[213px]">
                                    <canvas style=" display: block; box-sizing: border-box; height: 213px; width: 275px;"
                                            class="text-white " id="age-mens"></canvas>
                                </div>
                                <script>
                                    Chart.defaults.color = '#000000';
                                    new Chart(document.getElementById("age-mens"), {

                                        type: "doughnut",
                                        data: {
                                            labels: ["до 18", "18-35", "36-49", 'старше 50'],
                                            datasets: [{
                                                label: "Кол-во участников",
                                                backgroundColor: ["#22c55e", "#0ea5e9", '#f43f5e', "#7899a9", "#1e5571"],
                                                data: [{{ mens_lte_17 }},{{ mens_18_35 }},{{mens_36_49  }},{{mens_over50  }}],
                                            }]
                                        },
                                        options: {

                                            legend: {
                                                display: false
                                            },
                                        }

                                    });
                                </script>

                                <div class="mx-auto mt-8 w-52 sm:w-auto">
                                    <div class="flex items-center justify-content-center">

                                        <div class="w-2 h-2 mr-3 rounded-full bg-green-500 "></div>
                                        <span class="truncate">до 18 лет</span>
                                        <span class="ml-auto font-medium">{{ mens_lte_17}} чел.</span>
                                    </div>
                                    <div class="flex items-center mt-4">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-sky-500"></div>

                                        <span class="truncate">18-35 лет</span>
                                        <span class="ml-auto font-medium">{{ mens_18_35 }} чел.</span>
                                    </div>
                                    <div class="flex items-center mt-4">
                                        {#                                        <div class="w-2 h-2 mr-3 rounded-full bg-yellow-400"></div>#}
                                        <div class="w-2 h-2 mr-3 rounded-full bg-rose-500"></div>
                                        <span class="truncate">36-49 лет</span>
                                        <span class="ml-auto font-medium">{{ mens_36_49 }} чел.</span>
                                    </div>

                                    <div class="flex items-center mt-4">
                                        <div class="w-2 h-2 mr-3 rounded-full bg-gray-700"></div>
                                        <span class="truncate">старше 50</span>
                                        <span class="ml-auto font-medium">{{ mens_over_50 }} чел.</span>
                                    </div>


                                </div>
                            </div>
                        </div>
                    </div>

                </div>

















                        <!-- Chart general -->
                        <!-- <div class="flex items-center">

                            <div class="p-5 ">

                                <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

                                <div class="font-sans leading-normal tracking-normal">
                                    <div class="h-[275px]">
                                        <canvas style="display: block; box-sizing: border-box; height: 275px; width: 630px;"
                                                class="mt-6 -mb-6 " id="general-static"></canvas>
                                    </div>
                                    <script>
                                        const xValues = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10",
                                            "11", "12", "13", "14", "15", "16", "17", "18", "19", "20",
                                            "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31"
                                        ];

                                        const yValues = [{% for x in count_of_run_every_day %}, {{ x }} {% endfor %}]

                                        const lValues = [{% for x in distance_every_day %}, {{x}} {% endfor %}]

                                        new Chart("general-static", {
                                            type: "bar",
                                            options: {
                                                legend: {display: true}
                                            },
                                            data: {
                                                labels: xValues,
                                                datasets: [
                                                    {   label:'количество пробежек',
                                                        type: "bar",
                                                        data: yValues,
                                                        borderColor: 'rgba(0, 99, 132, 0.6)',
                                                        backgroundColor: 'rgba(0, 99, 132, 0.6)',
                                                        order: 1
                                                    },
                                                    {
                                                        label: 'дистанция за день',
                                                        data: lValues,
                                                        borderColor: "#0ea5e9",
                                                        //   backgroundColor: "#0ea5e9",
                                                        type: 'line',
                                                        order: 0
                                                    }
                                                ]
                                            },
                                        });

                                    </script>

                                </div>
                            </div>
                        </div> -->

                    </div>

                    <div>
                        <table class="table table-striped" id="category_table">
                            <thead class="table-dark text-center">
                            <tr>
                                <th></th>
                                <th>Новичок</th>
                                <th>Любитель</th>
                                <th>Профи</th>

                            </tr>
                            </thead>
                            <tr>
                                <td>мужчины</td>
                                <td>{{ mens_cat_1 }}</td>
                                <td>{{ mens_cat_2 }}</td>
                                <td>{{ mens_cat_3 }}</td>
                            </tr>
                            <tr>

                                <td>женщины</td>
                                <td>{{ womens_cat_1 }}</td>
                                <td>{{ womens_cat_2 }}</td>
                                <td>{{ womens_cat_3 }}</td>
                            </tr>

                        </table>


                         <table class="table table-striped" id="age_table">
    <thead class="table-dark text-center">
                            <tr>
                                <th>Возраст</th>
                                <th>до 18лет</th>
                                <th>18-35 лет</th>
                                <th>36-49 лет</th>
                                <th>50+</th>
                            </tr>
                            </thead>

                            <tr>
                                <td>мужчины</td>
                                <td>{{ mens_lte_17 }}</td>
                                <td>{{ mens_18_35 }}</td>
                                <td>{{ mens_36_49 }}</td>
                                <td>{{ mens_over_50 }}</td>

                            </tr>

                            <tr>
                                <td>женщины</td>
                                <td>{{ womens_lte_17 }}</td>
                                <td>{{ womens_18_35 }}</td>
                                <td>{{ womens_36_49 }}</td>
                                <td>{{ womens_over_50 }}</td>

                            </tr>

                        </table>

                    </div>
                </div>
            </div>
        </main>
    </div>

{% endblock %}

{% block extrascripts %}
    <script>

        new DataTable('#category_table', {
            {#columnDefs: [#}
            {#    {type: 'natural', target: 1},#}
            {##}
            {#],#}
            ordering: true,
            bLengthChange: false,
            info: false,
            searching: false
        });
    </script>
{% endblock %}