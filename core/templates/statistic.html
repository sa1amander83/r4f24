{% extends 'base.html' %}
{% load static %}
{% load time_tag %}
{% block content %}
{%  load okon4_tag%}
    {% csrf_token %}
<div class=" mx-5 ">
  <div class="hidden md:flex text-center bg-sky-700 flex-col rounded-t-2xl pb-10 mx-10"></div>
  <main class="flex flex-col justify-center rounded-2xl pb-3 pt-10 bg-sky-900 h-full">
    <div class="flex lg:gap-5 flex-col lg:flex-row  bg-gray-200 mb-3  rounded-2xl w-full p-3 my-3 md:p-6 md:my-0">
 <!-- sidebar  -->
   <div class="">

 
            <!-- Chart gender -->
        <div class="">
            <div class="flex items-center">
                <h2 class="mr-5 text-lg font-semibold truncate">Диаграмма
                категорий</h2></div>
            <div class="p-5 shadow mt-5 rounded-xl bg-white">

                <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

                <div class="font-sans leading-normal tracking-normal">
                    <canvas class="text-white w-96" id="gender-static"></canvas>
                    <script>
                        Chart.defaults.color = '#000000';
                        new Chart(document.getElementById("gender-static"), {

                            type: 'pie',
                            data: {
                                labels: ["Женщин", "Мужчин"],
                                datasets: [{
                                    label: "Кол-во участников",
                                    backgroundColor: ["#f43f5e", "#0ea5e9"],
                                    data: [{{ runners_womens}}, {{ runners_mens}}]
                                }]
                            },
                            options: {
                                responsive: true,
                                legend: {
                                    position: "bottom",
                                    labels: {
                                        fontColor: "black",
                                        fontSize: 14,
                                        padding: 20,
                                    },
                                },
                            }

                        });
                    </script>

                </div>
            </div>
        </div>

 
   </div>
   <div class="flex flex-col flex-1 ">
    

                    <!-- Верхний ряд -->
                    <div class="">
                        <h1 class="mx-auto text-center lg:text-left text-lg font-semibold truncate">Общие сведения</h1>
                        

                                <div class="grid  grid-cols-12 gap-6 mt-5">
                                    
                                    <div class="bg-white  rounded-xl shadow col-span-12 sm:col-span-6 xl:col-span-3">
                                    <div class="p-5">
                                    <div class="flex">

                                <svg width="32px" height="32px" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" stroke-width="3" stroke="#000000" fill="none"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M17.94,54.81a.1.1,0,0,1-.14,0c-1-1.11-11.69-13.23-11.69-21.26,0-9.94,6.5-12.24,11.76-12.24,4.84,0,11.06,2.6,11.06,12.24C28.93,41.84,18.87,53.72,17.94,54.81Z"></path><circle cx="17.52" cy="31.38" r="4.75"></circle><path d="M49.58,34.77a.11.11,0,0,1-.15,0c-.87-1-9.19-10.45-9.19-16.74,0-7.84,5.12-9.65,9.27-9.65,3.81,0,8.71,2,8.71,9.65C58.22,24.52,50.4,33.81,49.58,34.77Z"></path><circle cx="49.23" cy="17.32" r="3.75"></circle><path d="M17.87,54.89a28.73,28.73,0,0,0,3.9.89"></path><path d="M24.68,56.07c2.79.12,5.85-.28,7.9-2.08,5.8-5.09,2.89-11.25,6.75-14.71a16.72,16.72,0,0,1,4.93-3" stroke-dasharray="7.8 2.92"></path><path d="M45.63,35.8a23,23,0,0,1,3.88-.95"></path></g></svg>
                                    </div>
                                    <div class="mt-6 text-3xl font-semibold leading-8">{{ total_distance}}</div>
                                    <div class="mt-1 text-base text-slate-500">Расстояние</div>
                                    </div>
                                    </div>
                                    <div class="bg-white  rounded-xl shadow col-span-12 sm:col-span-6 xl:col-span-3">
                                    <div class="p-5">
                                    <div class="flex">
                        <svg width="32px" height="32px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>clock</title> <desc>Created with Sketch Beta.</desc> <defs> </defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"> <g id="Icon-Set" sketch:type="MSLayerGroup" transform="translate(-412.000000, -359.000000)" fill="#808080"> <path d="M438,376 L440,376 L440,374 L438,374 L438,376 Z M428,389 C420.268,389 414,382.732 414,375 C414,367.269 420.268,361 428,361 C435.732,361 442,367.269 442,375 C442,382.732 435.732,389 428,389 L428,389 Z M428,359 C419.163,359 412,366.164 412,375 C412,383.837 419.163,391 428,391 C436.837,391 444,383.837 444,375 C444,366.164 436.837,359 428,359 L428,359 Z M434.076,367.273 L435.46,368.66 L436.844,367.273 L435.46,365.887 L434.076,367.273 L434.076,367.273 Z M433.783,381.778 L435.197,383.192 L436.611,381.778 L435.197,380.364 L433.783,381.778 L433.783,381.778 Z M428,363 C427.448,363 427,363.447 427,364 L427,374.023 L419,374.023 C418.447,374.023 418,374.472 418,375.024 C418,375.576 418.447,376.023 419,376.023 L428,376.023 C428.553,376.023 429,375.576 429,375.024 L429,364 C429,363.447 428.553,363 428,363 L428,363 Z M421.692,367.323 L420.278,365.909 L418.864,367.323 L420.278,368.737 L421.692,367.323 L421.692,367.323 Z M418.733,381.832 L420.117,383.219 L421.501,381.832 L420.117,380.445 L418.733,381.832 L418.733,381.832 Z M427,387 L429,387 L429,385 L427,385 L427,387 Z" id="clock" sketch:type="MSShapeGroup"> </path> </g> </g> </g></svg>
                                    </div>
                                    <div class="mt-6 text-3xl font-semibold leading-8">{{ total_time}}</div>
                                    <div class="mt-1 text-base text-slate-500">Время</div>
                                    </div>
                                </div>

                                    <div class="bg-white  rounded-xl shadow col-span-12 sm:col-span-6 xl:col-span-3">
                                    <div class="p-5">
                                    <div class="flex">
                                       <svg height="32px" width="32px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 433.269 433.269" xml:space="preserve" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path style="fill:#808080;" d="M199.672,93.47c25.759,0,46.731-20.972,46.731-46.731C246.404,20.972,225.432,0,199.672,0 c-25.784,0-46.747,20.972-46.747,46.739S173.888,93.47,199.672,93.47z"></path> <path style="fill:#808080;" d="M162.939,137.617l-0.358,3.731c-1.211,12.364-1.431,24.467-0.667,35.953 c1.203,0.626,23.817,12.03,57.802,22.183c4.739,1.374,9.819,2.691,15.005,3.975c-5.641-17.623-7.584-35.432-5.609-52.998 l0.512-4.934l4.641,1.764c12.542,4.78,24.971,9.315,38.733,14.298l1.284,0.48c12.225,4.463,24.906,9.063,37.261,13.778 c2.048,0.772,3.999,1.179,5.828,1.179c7.348,0,11.811-6.413,12.998-12.746c1.349-7.43-1.455-16.534-10.819-20.102 c-12.778-4.861-25.849-9.6-38.505-14.209l-0.488-0.163c-20.338-7.405-71.897-27.198-74.352-27.694 c-15.176-3.081-22.744,3.877-33.026,3.772c-37.96-0.358-65.102-23.662-78.49-68.443c-2.138-7.121-7.828-11.396-15.184-11.396 c-5.779,0-11.323,2.593-14.444,6.787c-2.707,3.625-3.341,8.161-1.853,13.128c15.875,53.202,49.999,85.594,96.039,91.203 L162.939,137.617z"></path> <path style="fill:#808080;" d="M341.874,398.471c-68.865-48.357-103.948-133.016-103.948-133.016l1.723-2.13 c1.967-2.382,3.438-6.519,4.243-9.99c-40.984-11.047-60.111-19.379-71.857-24.524l9.023,33.116l-1.439,1.187 c-13.924,11.347-32.88,29.515-36.749,55.599c-4.406,29.653,9.177,57.136,23.475,82.757c3.772,6.69,9.689,10.405,16.688,10.405 c8.023,0,16.184-4.747,20.313-11.795c3.674-6.275,3.601-13.469-0.195-20.265l-1.146-2.073 c-8.381-14.94-17.062-30.376-17.59-48.064c-0.276-10.031,5.34-19.874,17.233-30.051l3.869-3.365l2.089,4.698 c21.321,47.471,53.242,86.667,103.452,127.163c4.292,3.414,9.006,5.145,14.087,5.145c9.876,0,19.752-6.844,22.931-15.859 C350.539,410.412,348.32,403.698,341.874,398.471z"></path> <path style="fill:#808080;" d="M169.223,216.602c32.652,13.697,99.469,36.79,178.528,36.79c7.6,0,15.298-0.195,23.093-0.667 l-19.435-9.99l18.143-11.754c-100.876,5.909-187.282-32.092-206.897-41.407C163.777,199.76,166.727,212.473,169.223,216.602z"></path> </g> </g> </g></svg>

                                    </div>
                                    <div class="mt-6 text-3xl font-semibold leading-8">{{ total_runs }}</div>
                                    <div class="mt-1 text-base text-slate-500">Пробежки</div>
                                    </div>
                                    </div>
                                    <div class="bg-white  rounded-xl shadow col-span-12 sm:col-span-6 xl:col-span-3">
                                    <div class="p-5">
                                    <div class="flex">
                                        <svg width="32px" height="32px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#808080" stroke="#808080"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g id="layer1"> <path d="M 9.5 0 C 8.1252105 0 7 1.1252105 7 2.5 C 7 3.0633617 7.1940199 3.5807403 7.5117188 4 L 7.5 4 C 6.1252115 4 5 5.12521 5 6.5 L 5 10.5 C 5 11.702941 5.8636264 12.715051 7 12.949219 L 7 18.5 C 7 19.328427 7.6715729 20 8.5 20 L 10.5 20 C 11.328427 20 12 19.328427 12 18.5 L 12 12.949219 L 12.001953 12.949219 C 13.13828 12.715051 14 11.702941 14 10.5 L 14 6.5 C 14 5.12521 12.874789 4 11.5 4 L 11.488281 4 C 11.805981 3.5807403 12 3.0633617 12 2.5 C 12 1.1252105 10.87479 0 9.5 0 z M 4.5 1 C 4.285138 1.0000001 4.0801864 1.0362656 3.8808594 1.0878906 C 3.8543284 1.0950956 3.8289194 1.1032681 3.8027344 1.1113281 C 3.6122454 1.1674598 3.4326019 1.2442769 3.2636719 1.3417969 C 2.5137879 1.7746902 2 2.5766257 2 3.5 C 2 4.0633617 2.1940148 4.5807403 2.5117188 5 L 2.5 5 C 1.125211 5 0 6.12521 0 7.5 L 0 10.5 C -1.4802974e-016 11.702941 0.86190784 12.715051 1.9980469 12.949219 L 2 12.949219 L 2 16.5 C 2 17.328427 2.671573 18 3.5 18 L 5 18 L 6 18 L 6 17 L 5 17 L 5 14.910156 L 5 13.5 C 5 13.223858 4.776142 13 4.5 13 C 4.223858 13 4 13.223858 4 13.5 L 4 17 L 3.5 17 C 3.223858 17 3 16.776142 3 16.5 L 3 8.5 C 3 8.2238576 2.776142 8 2.5 8 C 2.223858 8 2 8.2238576 2 8.5 L 2 11.910156 C 1.416196 11.705514 1 11.157682 1 10.5 L 1 7.5 C 1 6.66565 1.66565 6 2.5 6 L 2.5117188 6 C 3.0640037 6 3.5117188 5.5522848 3.5117188 5 C 3.5111458 4.782732 3.440444 4.5712218 3.28125 4.3574219 C 3.122056 4.1436221 3 3.8417718 3 3.5 C 3 2.6656506 3.66565 2 4.5 2 C 4.788118 2 5.0528871 2.0814481 5.2050781 2.1738281 C 5.3572691 2.2662078 5.4473025 2.2925337 5.5390625 2.2929688 C 5.8152055 2.2929688 6.0390625 2.0691111 6.0390625 1.7929688 C 6.0390215 1.6415092 5.9671356 1.5075681 5.8847656 1.4394531 C 5.8023906 1.3713371 5.7722744 1.3560969 5.7402344 1.3417969 C 5.3733144 1.128618 4.952744 1 4.5 1 z M 9.5 1 C 10.33435 1 11 1.6656505 11 2.5 C 11 2.8417718 10.877896 3.1436223 10.71875 3.3574219 C 10.559605 3.5712214 10.488843 3.7827376 10.488281 4 C 10.488281 4.5522847 10.935996 5 11.488281 5 L 11.5 5 C 12.33435 5 13 5.66565 13 6.5 L 13 10.5 C 13 11.157682 12.583804 11.705514 12 11.910156 L 12 7.5 C 12 7.2238576 11.776142 7 11.5 7 C 11.223858 7 11 7.2238576 11 7.5 L 11 18.5 C 11 18.776142 10.776142 19 10.5 19 L 10 19 L 10 13.5 C 10 13.223858 9.7761424 13 9.5 13 C 9.2238576 13 9 13.223858 9 13.5 L 9 19 L 8.5 19 C 8.2238576 19 8 18.776142 8 18.5 L 8 7.5 C 8 7.2238576 7.7761424 7 7.5 7 C 7.2238576 7 7 7.2238576 7 7.5 L 7 11.910156 C 6.4161964 11.705514 6 11.157682 6 10.5 L 6 6.5 C 6 5.66565 6.6656505 5 7.5 5 L 7.5117188 5 C 8.0640035 5 8.5117188 4.5522847 8.5117188 4 C 8.5111567 3.7827376 8.4403749 3.5712202 8.28125 3.3574219 C 8.1221251 3.1436236 8 2.8417718 8 2.5 C 8 1.6656505 8.6656505 1 9.5 1 z M 14.5 1 C 14.047256 1 13.626686 1.128618 13.259766 1.3417969 C 13.227726 1.3560969 13.197609 1.3713371 13.115234 1.4394531 C 13.032864 1.5075681 12.960978 1.6415091 12.960938 1.7929688 C 12.960938 2.0691111 13.184795 2.2929688 13.460938 2.2929688 C 13.552698 2.2925337 13.642731 2.2662078 13.794922 2.1738281 C 13.947113 2.0814481 14.211882 2 14.5 2 C 15.33435 2 16 2.6656505 16 3.5 C 16 3.8417718 15.877944 4.1436221 15.71875 4.3574219 C 15.559556 4.5712218 15.488854 4.782732 15.488281 5 C 15.488281 5.5522847 15.935996 6 16.488281 6 L 16.5 6 C 17.33435 6 18 6.66565 18 7.5 L 18 10.5 C 18 11.157682 17.583804 11.705514 17 11.910156 L 17 8.5 C 17 8.2238576 16.776142 8 16.5 8 C 16.223858 8 16 8.2238576 16 8.5 L 16 16.5 C 16 16.776142 15.776142 17 15.5 17 L 15 17 L 15 13.5 C 15 13.223858 14.776142 13 14.5 13 C 14.223858 13 14 13.223858 14 13.5 L 14 14.910156 L 14 17 L 13 17 L 13 18 L 14 18 L 15.5 18 C 16.328427 18 17 17.328427 17 16.5 L 17 12.949219 L 17.001953 12.949219 C 18.138092 12.715051 19 11.702941 19 10.5 L 19 7.5 C 19 6.12521 17.874789 5 16.5 5 L 16.488281 5 C 16.805985 4.5807403 17 4.0633617 17 3.5 C 17 2.5766256 16.486212 1.7746902 15.736328 1.3417969 C 15.567398 1.2442766 15.387755 1.1674598 15.197266 1.1113281 C 15.171081 1.1032638 15.145672 1.0950959 15.119141 1.0878906 C 14.919814 1.0362653 14.714862 1 14.5 1 z " style="fill:#808080; fill-opacity:1; stroke:none; stroke-width:0px;"></path> </g> </g></svg>

                                    </div>
                                    <div class="mt-6 text-3xl font-semibold leading-8">{{ total_runners }}</div>
                                    <div class="mt-1 text-base text-slate-500">Участники</div>
                                    </div>
                                    </div>

                                </div>
                    </div>
                    <!-- Таблица -->
        <h1 class=" text-left text-lg mt-5 font-semibold truncate"> Статистика по участникам</h1>
                <div class=" w-full mt-5 bg-white shadow  rounded-xl">
    <div class=" container-fluid statistic ">

        <div>
                <div>
                <h3 class="text-dark"> Всего  {{ total_runners|okon4 }}</h3>

            </div>
            <hr>
            <div>
                <h3 class="text-success">Принимали участие в #МыZaБег 2022: </h3>
                    <p class="text-gray-900  text-lg"> {{ run2022|okon4  }} </p>
            </div>
<div>
                <h3 class="text-success">Принимали участие в #МыZaБег 2023: </h3>
                    <p class="text-gray-900  text-lg"> {{ run2023|okon4  }} </p>
            </div>


          <div>
                <h3 class="text-success"> Выполнили ZaБег: </h3>
                {% for k, v in get_finished.items %}
                    <p class="text-gray-900  text-lg"> {{ k }} категория - {{ v|okon4  }} </p>

                {% endfor %}

            </div>

  <div>
                <h3 class="text-success"> Пробежали 30 из 30 дней: </h3>

{#                    <p class="text-gray-900  text-lg">  {{ run30|okon4  }} </p>#}



            </div>
            <hr>
            <div>
                <h3 class="text-danger"> Дисквалифицированы: </h3>
                <p class="text-gray-900  text-lg"> {{ disqauled  }}  </p>
                <p class="text-gray-900  text-lg"> Из них нет отсутствует пробег у {{ not_run|okon4  }} </p>
            </div>
        </div>
        <div>


            <div>
                <h3 class="text-warning"> Участники по категориям</h3>
                <p class="text-gray-900  text-lg"> Категория "Новичок" - {{ runners_cat1|okon4  }} </p>
                <p class="text-gray-900  text-lg"> Категория "Любитель" - {{ runners_cat2|okon4  }} </p>
                <p class="text-gray-900  text-lg"> Категория "Профи" - {{ runners_cat3|okon4  }} </p>

            </div>
            <hr>

            <div>
                <h3 class="text-dark">Возраст участников:</h3>
                <p class="text-gray-900  text-lg"> до 18 лет - {{ runner_age_1|okon4  }} </p>
                <p class="text-gray-900  text-lg"> 18 - 35 лет - {{ runner_age_2|okon4  }} </p>
                <p class="text-gray-900  text-lg">36 - 49 лет - {{ runner_age_3|okon4  }} </p>
                <p class="text-gray-900  text-lg"> 50+ лет - {{ runner_age_4|okon4  }} </p>


            </div>


        </div>

    </div>
    </div>
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    </div>
  </main>
</div>

{% endblock %}

{#{% block calend %}#}
{#    {% for value in calend %}#}
{##}
{#        <a href="/day_selected/{{ value }}" class="day-selected">{{ value }}</a>#}
{##}
{#    {% endfor %}#}
{#{% endblock %}#}