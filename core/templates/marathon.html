{% extends 'base.html' %} {% load static %} {% load cat_tag %} {% block content %}
    {% csrf_token %}

    <div class="mx-5 md:mx-10">
    <div
            class="hidden md:flex text-center bg-sky-700 flex-col rounded-t-2xl pb-10 mx-10"
    ></div>
    <main class="flex flex-col justify-center rounded-2xl mb-3 bg-sky-900 h-full">
    <header
            class="flex flex-wrap items-center justify-between mx-auto p-4 w-full"
    >
        <div class="hidden rounded-md shadow-sm md:inline-flex" role="group">

        </div>
    </header>
    <div
            class="flex flex-col bg-gray-200 mb-3 rounded-2xl w-full p-3 my-3 md:p-6 md:my-0"
    >
        <div class="flex justify-between items-center">
            <div>
                {% if cat_selected == '1' %}
                    <h2 class="text-left text-lg font-semibold truncate">
                        Участников в категории
                        <span class="bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded text"
                        >Новичок</span
                        >
                    </h2>
                {% elif cat_selected == '2' %}
                    <h2 class="text-left text-lg font-semibold truncate">
                        Участников в категории
                        <span class="bg-green-100 text-green-800 px-2 py-0.5 rounded"
                        >Любитель</span
                        >
                    </h2>
                {% elif cat_selected == '3' %}
                    <h2 class="text-left text-lg font-semibold truncate">
                        Участников в категории
                        <span class="bg-sky-100 text-sky-800 px-2 py-0.5 rounded"
                        >Профи</span
                        >
                    </h2>
                {% elif cat_selected == 'f' %}
                    <h2 class="text-left text-lg font-semibold truncate">
                        Участников в категории
                        <span class="bg-pink-100 text-pink-800 px-2 py-0.5 rounded"
                        >Женщины</span
                        >
                    </h2>

                {% elif cat_selected == '50' %}
                    <h2 class="text-left text-lg font-semibold truncate">
                        Участников в категории "50+" - {{ count_of_runners }}
                    </h2>

                {% elif cat_selected == 'woman' %}
                    <h2 class="text-left text-lg font-semibold truncate">
                        Участников женщин" - {{ count_of_runners }}
                    </h2>
                {% else %}
                    <h3 class="text-left text-lg font-semibold truncate">
                        Участники-марафонцы
                    </h3>
                {% endif %}
            </div>
            <div>
                <!-- Dropdown category -->
                <button
                        id="dropdownMenuIconButton"
                        data-dropdown-toggle="dropdownDots"
                        class="inline-flex md:hidden items-center py-2.5 px-1 text-sm font-medium text-center rounded-lg text-gray-900 hover:bg-gray-50"
                        type="button"
                >
                    <svg
                            class="w-5 h-5"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="currentColor"
                            viewBox="0 0 4 15"
                    >
                        <path
                                d="M3.5 1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 6.041a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 5.959a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"
                        />
                    </svg>
                </button>

                <!-- Dropdown menu category -->
                <div
                        id="dropdownDots"
                        class="z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 "
                >
                    <ul
                            class="py-2 text-sm text-gray-700 "
                            aria-labelledby="dropdownMenuIconButton"
                    >
                        <li>
                            <a
                                    href="{% url 'runners'  1 %}"
                                    class="block px-4 py-2 hover:bg-gray-100"
                            >Новичок</a
                            >
                        </li>
                        <li>
                            <a
                                    href="{% url 'runners'  2 %}"
                                    class="block px-4 py-2 hover:bg-gray-100"
                            >Любитель</a
                            >
                        </li>
                        <li>
                            <a
                                    href="{% url 'runners'  3 %}"
                                    class="block px-4 py-2 hover:bg-gray-100"
                            >Профи</a
                            >
                        </li>
                        <li>
                            <a
                                    href="{% url 'runners'  'f' %}"
                                    class="block px-4 py-2 hover:bg-gray-100"
                            >Женщины</a
                            >
                        </li>
                    </ul>
                    <div class="py-2">
                        <a
                                href="{% url 'runners' %}"
                                class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 "
                        >Общий</a
                        >
                    </div>
                </div>
            </div>
        </div>

        <!-- PC-table -->
        <div
                class="w-full flex justify-center mt-5 p-1.5 bg-white shadow flex-col items-center rounded-xl"
        >
            <table  id="selection-table">
                <thead>
                    <tr>
                        <th>
                            <span class="flex items-center">
                                № п/п
                                <svg class="w-4 h-4 ms-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8 15 4 4 4-4m0-6-4-4-4 4"/>
                                </svg>
                            </span>
                        </th>
                        <th>
                            <span class="flex items-center">
                                Участник
                                <svg class="w-4 h-4 ms-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8 15 4 4 4-4m0-6-4-4-4 4"/>
                                </svg>
                            </span>
                        </th>
                         <th>
                            <span class="flex items-center">
                                категория
                                <svg class="w-4 h-4 ms-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8 15 4 4 4-4m0-6-4-4-4 4"/>
                                </svg>
                            </span>
                        </th>

                        <th class="">
                            <span class="flex items-center">
                                Дата пробежки
                                <svg class="w-4 h-4 ms-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8 15 4 4 4-4m0-6-4-4-4 4"/>
                                </svg>
                            </span>
                        </th>
                        <th>
                            <span class="flex items-center">
                                Дистанция
                                <svg class="w-4 h-4 ms-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8 15 4 4 4-4m0-6-4-4-4 4"/>
                                </svg>
                            </span>
                        </th>
                        <th>
                            <span class="flex items-center">
                                Время
                                <svg class="w-4 h-4 ms-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8 15 4 4 4-4m0-6-4-4-4 4"/>
                                </svg>
                            </span>
                        </th>


                        <th class="">
                            <span class="flex items-center">
                                Темп
                                <svg class="w-4 h-4 ms-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8 15 4 4 4-4m0-6-4-4-4 4"/>
                                </svg>
                            </span>
                        </th>
                         <th class="">
                            <span class="flex items-center">
                                ссылка
                                <svg class="w-4 h-4 ms-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8 15 4 4 4-4m0-6-4-4-4 4"/>
                                </svg>
                            </span>
                        </th>

                        <th>
                            <span class="flex items-center">
                                Фото
                                <svg class="w-4 h-4 ms-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8 15 4 4 4-4m0-6-4-4-4 4"/>
                                </svg>
                            </span>
                        </th>

                    </tr>
                </thead>
                <tbody>


                    {% for p in marathones %}
                    <tr class="hover:bg-gray-50  cursor-pointer">
                        <td >{{ forloop.counter }}</td>
                        <td class="font-medium text-gray-900 whitespace-nowrap">
                            <a class="text-sm font-semibold text-black"  href="/profile/{{ p.runner__username }}">
                                {{ p.runner__username }}
                                <div class="md:hidden flex justify-center items-center">

                            </a>
                        </td>
                        <td class="">{{ p.runner__runner_category|cat_tag }} | {{p.runner__runner_gender  }}</td>
                        <td class="">{{ p.day_select }}</td>
                        <td class="">{{ p.day_distance }}</td>
                        <td class="">{{ p.day_time }}</td>
                        <td class="">{{ p.day_average_temp|time:'i:s' }}</td>
                        <td class=""> {% if p.run_url %}<a href="{{ p.run_url }}"> ссылка</a> {% endif %}</td>

                        <td class=""><div class="flex -space-x-5 align-center">
                          {% for photo in p.photos %}
                            <a href="{{ photo.photo__url }}" data-lightbox="{{ photo.runner_day_id}}" class="flex flex-shrink-0">
                                <img class="w-10 h-10 rounded-full shadow-[0px_0px_0px_2px_#fff,_1px_1px_5px_rgba(0,0,0,0.32)]" alt="photo" src="{{ photo.photo__url }}">
                            </a>
                        {% empty %}
                            <p>Нет фотографий</p> <!-- Сообщение, если фотографий нет -->


                    </div>{% endfor %}</td>
{#    <td class="">{{ p.runner__runner_category|cat_tag }}</td>#}
{#                        <td class="">{{ p.day_select }} октября</td>#}
{#                        <td class="">{{ p.day_distance }}</td>#}
{#                        <td class="">{{ p.day_average_temp }}</td>#}

                    </tr>
                    {%endfor%}

                </tbody>
            </table>
        </div>
    </div>

{% endblock %} {% block extrascripts %}
{% endblock %}

</main>
</div>
