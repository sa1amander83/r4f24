{% extends 'base.html' %}
{% load static %}
{% load cache %}
{% load divide_tag %}
{% load time_tag %}
{% load cat_tag %}
{% block content %}

    {% csrf_token %}




<div class=" container-fluid ">

        {#   шапка личного кабинета с описанием участника#}

        {% comment %}
<div class="button">
    {##}
    {#                        <a href='{% url 'profile:addfamily' username=runner_stat pk=runner_stat.pk %}'>#}
    {#                            <div class="block w-full rounded-3 bg-blue-600 text-5xl text-stone-50"#}
    {#                                 style="text-align: center; width: 150px "></i>Добавить семью#}
    {#                            </div>#}
    {#                        </a>#}
    {#                    </div>#}
</div> {% endcomment %}
<div class="mx-5 ">
  <div class="hidden md:flex text-center bg-sky-700 flex-col rounded-t-2xl pb-10 mx-10"></div>
  <main class="flex flex-col justify-center rounded-2xl pb-3 pt-10 bg-sky-900 h-full">
    <div class="flex flex-col lg:flex-row  bg-gray-200 mb-3  rounded-2xl w-full p-3 my-3 md:p-6 md:my-0">
        <!-- sidebar  -->
        <div class="">
            <h1 class="mx-auto text-left text-lg font-semibold truncate"> Профиль</h1>
            <div class="lg:w-[429px] p-5 shadow my-5 rounded-xl bg-white">
                <div class="flex justify-center mb-5 items-center gap-5">
                    <img
          class="w-20 h-20 rounded-full"
          src="{% static 'img/avatar7.png' %}"
          alt="User Avatar"
        />
               <div class="flex flex-col">    
                <div class="text-lg font-semibold truncate">{{ runner_stat }} 
                    <div class="flex items-center">
                                             {% if user.runner_gender == 'м' %}

                        <svg
                            class="w-5 h-5"
                            fill="#0080ff"
                            viewBox="-5.12 -5.12 266.24 266.24"
                            id="Flat"
                            xmlns="http://www.w3.org/2000/svg"
                            stroke="#0080ff"
                            stroke-width="5.12"
                                    >
                                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                        <g
                                                id="SVGRepo_tracerCarrier"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                        ></g>
                                        <g id="SVGRepo_iconCarrier">
                                            <path
                                                    d="M219.9209,39.21582c-.02246-.11328-.06519-.21777-.09693-.32715a2.32952,2.32952,0,0,0-.324-.7876c-.05811-.10693-.10522-.21777-.17383-.31982a3.99291,3.99291,0,0,0-.49316-.604l-.0044-.00537h0a4.01587,4.01587,0,0,0-.61108-.499c-.08984-.06006-.1875-.10058-.28076-.15234a3.98009,3.98009,0,0,0-.40918-.21533c-.11646-.04786-.23828-.07422-.35791-.11084a3.89106,3.89106,0,0,0-.38965-.11573,4.05713,4.05713,0,0,0-.64258-.06494C216.09082,36.01221,216.04712,36,216,36H168a4,4,0,0,0,0,8h38.34326L154.83643,95.50635a76.00057,76.00057,0,1,0,5.65673,5.65674L212,49.65674V88a4,4,0,0,0,8,0V40.00146A4.03032,4.03032,0,0,0,219.9209,39.21582ZM152.083,200.084a67.96779,67.96779,0,1,1,0-96.168A68.07554,68.07554,0,0,1,152.083,200.084Z"
                                            ></path>
                                        </g>
                        </svg>
                        
                       
                     {% else %}
                    <svg class="w-5 h-5" fill="#ff80c0" viewBox="0 0 256 256" id="Flat"
                                         xmlns="http://www.w3.org/2000/svg" stroke="#ff80c0" stroke-width="5.12">
                                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round"
                                           stroke-linejoin="round"></g>
                                        <g id="SVGRepo_iconCarrier">
                                            <path d="M204,96a76,76,0,1,0-80,75.89355V204H88a4,4,0,0,0,0,8h36v28a4,4,0,0,0,8,0V212h36a4,4,0,0,0,0-8H132V171.89355A76.09456,76.09456,0,0,0,204,96ZM60,96a68,68,0,1,1,68,68A68.07728,68.07728,0,0,1,60,96Z"></path>
                                        </g>
                    </svg>
                    
                    {% endif %}
                    <span class="text-lg font-semibold text-slate-500 truncate">{{ user.runner_age }} лет</span>
                    </div>
                  </div>
                
                </div> 
            </div>
            {#   {% cache 300 user.username %}#}
             {% for d in user_data %}
            
             <div class="bg-gray-200 h-px mb-2"></div>
                <div class="flex w-full justify-around items-center">
                    <div class="p-5 flex flex-col items-center w-1/3 text-center border-r">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="size-5 text-gray-500 me-2">
                            <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
                        </svg>
                        <h4 class="mt-2 text-base font-semibold leading-8">{{ user.runner_category|cat_tag }}</h4>
                        <h5 class="mt-1 text-sm text-slate-500">Категория</h5>
                    </div>
                    
                    <div class="p-5 flex flex-col items-center w-1/3 text-center border-r">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5 text-gray-500 me-2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z" />
                        </svg>

                        <h4 class="mt-2 text-base font-semibold leading-8">№{{ d.runner_team }}</h4>
                        <h5 class="mt-1 text-sm text-slate-500">Команда</h5>
                    </div>
                    
                       
                       
                        
                        {% endfor %}
                {% if exists_in_group %}
                <div class="p-5 flex flex-col items-center w-1/3 text-center">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5 text-gray-500 me-2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z" />
                        </svg>


                        <h4 class="mt-2 text-base font-semibold leading-8">{{ exists_in_group.family_title }}</h4>
                        <h5 class="mt-1 text-sm text-slate-500">Группа</h5>
                </div>
                {%else%}
                <div class="p-5 flex flex-col items-center w-1/3 text-center ">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184" />
                    </svg>



                        
                        <h5 class="mt-4 text-sm text-slate-500">Не состоит в группе</h5>
                </div>

                {% endif %}
                {# {% endcache %}#}

                </div>
        </div>





    </div>

          <div class="flex flex-col flex-1 mx-5">




            <!-- Верхний ряд -->
            <div class="">
                <h1 class="mx-auto text-center lg:text-left text-lg font-semibold truncate">Общие сведения</h1>
                {% if data %}

                        <div class="flex items-center flex-col gap-2 lg:flex-row justify-around mt-5">
                            {% for d in data %}
                            <div class="bg-white w-72 h-36 rounded-xl shadow ">
                            <div class="p-5">
                            <div class="flex">
                           <!--      <svg class="size-6 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" >
                           <path stroke-linecap="round" stroke-linejoin="round" d="M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46" />
                           </svg> -->
                           <svg fill="#aaa7a7" class="size-6 text-gray-500" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="225px" height="225px" viewBox="-150.11 -150.11 784.43 784.43" xml:space="preserve" stroke="#aaa7a7" stroke-width="0.0048421"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="47.45258"> <g> <path d="M395.527,97.043V55.352H124.537l159.46,171.507c9.983,10.749,9.848,27.458-0.319,38.026L126.017,428.861h269.504v-25.18 c0-15.256,12.413-27.668,27.674-27.668c15.256,0,27.681,12.412,27.681,27.668v52.848c0,15.262-12.419,27.681-27.681,27.681H61.014 c-11.106,0-21.107-6.603-25.464-16.834c-4.359-10.226-2.189-22.012,5.509-30.026l184.584-191.964L40.743,46.521 c-7.492-8.068-9.496-19.798-5.101-29.899C40.042,6.525,50.005,0,61.014,0h362.188c15.255,0,27.68,12.413,27.68,27.68v69.363 c0,15.259-12.419,27.677-27.68,27.677C407.94,124.72,395.527,112.308,395.527,97.043z"></path> </g> </g><g id="SVGRepo_iconCarrier"> <g> <path d="M395.527,97.043V55.352H124.537l159.46,171.507c9.983,10.749,9.848,27.458-0.319,38.026L126.017,428.861h269.504v-25.18 c0-15.256,12.413-27.668,27.674-27.668c15.256,0,27.681,12.412,27.681,27.668v52.848c0,15.262-12.419,27.681-27.681,27.681H61.014 c-11.106,0-21.107-6.603-25.464-16.834c-4.359-10.226-2.189-22.012,5.509-30.026l184.584-191.964L40.743,46.521 c-7.492-8.068-9.496-19.798-5.101-29.899C40.042,6.525,50.005,0,61.014,0h362.188c15.255,0,27.68,12.413,27.68,27.68v69.363 c0,15.259-12.419,27.677-27.68,27.677C407.94,124.72,395.527,112.308,395.527,97.043z"></path> </g> </g></svg>
                            </div>
                            <div class="mt-6 text-3xl font-semibold leading-8">{{ d.total_balls }}</div>
                            <div class="mt-1 text-base text-slate-500">Сумма баллов</div>
                            </div>
                            </div>
                            <div class="bg-white w-72 h-36 rounded-xl shadow">
                            <div class="p-5">
                            <div class="flex">
                    <svg class="h-6 w-6" fill="#808080" height="200px" width="200px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" stroke="#808080" stroke-width="4.608"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <g> <path d="M196.267,409.597h-153.6c-4.71,0-8.533,3.823-8.533,8.533s3.823,8.533,8.533,8.533h153.6c4.71,0,8.533-3.823,8.533-8.533 S200.977,409.597,196.267,409.597z"></path> <path d="M25.6,324.263h68.267c4.71,0,8.533-3.823,8.533-8.533s-3.823-8.533-8.533-8.533H25.6c-4.71,0-8.533,3.823-8.533,8.533 S20.89,324.263,25.6,324.263z"></path> <path d="M153.6,366.93c0-4.71-3.823-8.533-8.533-8.533H8.533c-4.71,0-8.533,3.823-8.533,8.533s3.823,8.533,8.533,8.533h136.533 C149.777,375.463,153.6,371.64,153.6,366.93z"></path> <path d="M435.2,375.463H384c-4.71,0-8.533,3.823-8.533,8.533s3.823,8.533,8.533,8.533h51.2c31.13,0,55.202,21.495,59.11,51.2 H353.399L80.333,170.663L209.143,41.853c7.074,22.46,23.33,66.15,49.357,92.177c29.158,29.167,79.761,35.115,99.9,36.326v68.574 h-20.147c-2.961-5.077-8.405-8.533-14.694-8.533c-9.412,0-17.067,7.654-17.067,17.067c0,9.412,7.654,17.067,17.067,17.067 c6.289,0,11.733-3.456,14.694-8.533H358.4v51.2h-20.147c-2.961-5.077-8.405-8.533-14.694-8.533 c-9.412,0-17.067,7.654-17.067,17.067s7.654,17.067,17.067,17.067c6.289,0,11.733-3.456,14.694-8.533H358.4v8.533 c0,2.261,0.896,4.437,2.5,6.033l17.067,17.067c3.337,3.337,8.73,3.337,12.066,0c3.337-3.336,3.337-8.73,0-12.066l-14.566-14.566 V162.13c0-4.71-3.823-8.533-8.533-8.533c-0.649,0-65.092-0.358-96.367-31.633c-32.034-32.034-48.794-97.783-48.956-98.441 c-0.751-2.978-3.038-5.333-5.999-6.153c-2.978-0.802-6.144,0.026-8.311,2.193L62.242,164.622c0,0-0.009,0-0.009,0.009 c-0.008,0-0.008,0.009-0.008,0.009l-11.657,11.665c-10.641,10.633-10.325,29.602,0.666,40.593l266.999,266.999 c1.126,1.126,11.503,11.034,27.768,11.034H486.4c14.353,0,25.6-11.247,25.6-25.6v-17.067 C512,409.196,478.268,375.463,435.2,375.463z M494.933,469.33c0,4.864-3.669,8.533-8.533,8.533H346.001 c-9.31,0-15.693-6.033-15.701-6.033l-266.999-267c-4.403-4.403-4.727-12.407-0.666-16.461l5.632-5.641l275.567,275.567 c1.596,1.604,3.772,2.5,6.033,2.5h145.067V469.33z"></path> <path d="M273.067,230.397v102.4c0,4.71,3.823,8.533,8.533,8.533s8.533-3.823,8.533-8.533v-102.4c0-4.71-3.823-8.533-8.533-8.533 S273.067,225.686,273.067,230.397z"></path> <path d="M332.715,202.971c4.173,0,7.825-3.063,8.431-7.322c0.674-4.659-2.569-8.986-7.236-9.66 c-56.977-8.183-105.634-44.305-130.15-96.614c-1.997-4.267-7.066-6.093-11.349-4.105c-4.267,2.005-6.101,7.083-4.105,11.349 c26.965,57.532,80.495,97.263,143.181,106.266C331.904,202.945,332.305,202.971,332.715,202.971z"></path> </g> </g> </g> </g>
                    </svg>
                            </div>
                            <div class="mt-6 text-3xl font-semibold leading-8">{{ d.total_distance|floatformat:3 }} м</div>
                            <div class="mt-1 text-base text-slate-500">Пробег</div>
                            </div>
                        </div>

                       {% endfor %}
                        {% else %}
                            <h2 class="bg-red-500"> Участник пока не внес никаких сведений о пробежках</h2>
                        {% endif %}
                            <div class="bg-white w-72 h-36 rounded-xl shadow">
                            <div class="p-5">
                            <div class="flex">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 text-gray-500">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0" />
                                </svg>

                            </div>
                            <div class="mt-6 text-3xl font-semibold leading-8">{{ place_in_total }}<span class=" text-gray-500">/{{ total_runners }}<span></div>
                            <div class="mt-1 text-base text-slate-500"> Место (общ.) </div>
                            </div>
                            </div>
                            <div class="bg-white w-72 h-36 rounded-xl shadow">
                            <div class="p-5">
                            <div class="flex">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 text-gray-500">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0" />
                                </svg>

                            </div>
                            <div class="mt-6 text-3xl font-semibold leading-8">{{ place_in_category }}<span class=" text-gray-500">/{{ total_runners_category }}</span> </div>
                            <div class="mt-1 text-base text-slate-500">  Место (кат.)  </div>
                            </div>
                            </div>

                        </div>
            </div>



                    <!-- Таблица -->
<h1 class=" text-left text-lg mt-5 font-semibold truncate"> Статистика по участнику</h1>
        <div class=" w-full mt-5 bg-white shadow  rounded-xl">
            <div class="flex bg-white items-center rounded-t-xl justify-between p-4">
                {% if request.user.is_authenticated and request.user == run_user %}
                        <div>
                            <a href="{% url 'profile:addrunday' runner_stat %}" class="rounded-md bg-blue-600 py-2 px-4 font-semibold text-white shadow-lg transition duration-150 ease-in-out hover:bg-blue-700 hover:shadow-xl focus:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">Внести сведения</a>
                        </div>
                        {% endif %}
                        <div class="flex items-center gap-2">
                            <svg  class="h-7 w-7" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M12 8V12L15 15" stroke="#878787" stroke-width="2" stroke-linecap="round"></path> <circle cx="12" cy="12" r="9" stroke="#878787" stroke-width="2"></circle> </g></svg>
                             <span class="text-sm">Общее время пробега</span>

                            <span class="text-xl font-bold"> {{ run_user_time }}</span>
{#                            {% for u in tot_dist %}#}
{#                          <span class="text-xl font-bold">{{ u.total_time }}</span>#}
{#                            {% endfor %}#}
                        </div><div class="flex items-center gap-2">
                            <svg class="h-7 w-7" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g id="Calendar / Timer"> <path id="Vector" d="M12 13V9M21 6L19 4M10 2H14M12 21C7.58172 21 4 17.4183 4 13C4 8.58172 7.58172 5 12 5C16.4183 5 20 8.58172 20 13C20 17.4183 16.4183 21 12 21Z" stroke="#808080" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g> </g>
                            </svg>
                             <span class="text-sm">Средний темп</span>

                            <span class="text-xl font-bold"> {{ run_user_avg }}</span>
{#                            {% for u in tot_dist %}#}
{#                          <span class="text-xl font-bold">{{ u.total_time }}</span>#}
{#                            {% endfor %}#}
                        </div>

            </div>

        <table class="display  text-sm text-left px-1  text-gray-500 " style="width: 100%;" id="profile">
            <thead class="text-xs text-gray-700 uppercase bg-gray-50 ">
            <tr class="bg">
                <th scope="col" class="px-6 py-3"></th>
                <th scope="col" class="px-6 py-3"> день</th>
                <th scope="col" class="px-6 py-3"> баллы</th>
                <th scope="col" class="px-6 py-3"> дистанция</th>
                <th scope="col" class="px-6 py-3"> время</th>
                <th scope="col" class="px-6 py-3"> темп</th>
                <th scope="col" class="px-6 py-3"> пробежка</th>
                <th scope="col" class="px-6 py-3"> фото</th>
                <th scope="col" class="px-6 py-3">Action</th>
            </tr>
            </thead>


            <tbody>

            {% for p in runner_day %}

                <tr class="bg-white border-b ">


                    {% if request.user.is_authenticated and request.user == p.runner or request.user == 'admin' %}
                        <td class="px-6 py-4">
                            <a href="{% url 'profile:editrunday' username=p.runner pk=p.pk %}">
                                <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M11.9426 1.25L13.5 1.25C13.9142 1.25 14.25 1.58579 14.25 2C14.25 2.41421 13.9142 2.75 13.5 2.75H12C9.62178 2.75 7.91356 2.75159 6.61358 2.92637C5.33517 3.09825 4.56445 3.42514 3.9948 3.9948C3.42514 4.56445 3.09825 5.33517 2.92637 6.61358C2.75159 7.91356 2.75 9.62178 2.75 12C2.75 14.3782 2.75159 16.0864 2.92637 17.3864C3.09825 18.6648 3.42514 19.4355 3.9948 20.0052C4.56445 20.5749 5.33517 20.9018 6.61358 21.0736C7.91356 21.2484 9.62178 21.25 12 21.25C14.3782 21.25 16.0864 21.2484 17.3864 21.0736C18.6648 20.9018 19.4355 20.5749 20.0052 20.0052C20.5749 19.4355 20.9018 18.6648 21.0736 17.3864C21.2484 16.0864 21.25 14.3782 21.25 12V10.5C21.25 10.0858 21.5858 9.75 22 9.75C22.4142 9.75 22.75 10.0858 22.75 10.5V12.0574C22.75 14.3658 22.75 16.1748 22.5603 17.5863C22.366 19.031 21.9607 20.1711 21.0659 21.0659C20.1711 21.9607 19.031 22.366 17.5863 22.5603C16.1748 22.75 14.3658 22.75 12.0574 22.75H11.9426C9.63423 22.75 7.82519 22.75 6.41371 22.5603C4.96897 22.366 3.82895 21.9607 2.93414 21.0659C2.03933 20.1711 1.63399 19.031 1.43975 17.5863C1.24998 16.1748 1.24999 14.3658 1.25 12.0574V11.9426C1.24999 9.63423 1.24998 7.82519 1.43975 6.41371C1.63399 4.96897 2.03933 3.82895 2.93414 2.93414C3.82895 2.03933 4.96897 1.63399 6.41371 1.43975C7.82519 1.24998 9.63423 1.24999 11.9426 1.25ZM16.7705 2.27592C18.1384 0.908029 20.3562 0.908029 21.7241 2.27592C23.092 3.6438 23.092 5.86158 21.7241 7.22947L15.076 13.8776C14.7047 14.2489 14.4721 14.4815 14.2126 14.684C13.9069 14.9224 13.5761 15.1268 13.2261 15.2936C12.929 15.4352 12.6169 15.5392 12.1188 15.7052L9.21426 16.6734C8.67801 16.8521 8.0868 16.7126 7.68711 16.3129C7.28742 15.9132 7.14785 15.322 7.3266 14.7857L8.29477 11.8812C8.46079 11.3831 8.56479 11.071 8.7064 10.7739C8.87319 10.4239 9.07761 10.0931 9.31605 9.78742C9.51849 9.52787 9.7511 9.29529 10.1224 8.924L16.7705 2.27592ZM20.6634 3.33658C19.8813 2.55448 18.6133 2.55448 17.8312 3.33658L17.4546 3.7132C17.4773 3.80906 17.509 3.92327 17.5532 4.05066C17.6965 4.46372 17.9677 5.00771 18.48 5.51999C18.9923 6.03227 19.5363 6.30346 19.9493 6.44677C20.0767 6.49097 20.1909 6.52273 20.2868 6.54543L20.6634 6.16881C21.4455 5.38671 21.4455 4.11867 20.6634 3.33658ZM19.1051 7.72709C18.5892 7.50519 17.9882 7.14946 17.4193 6.58065C16.8505 6.01185 16.4948 5.41082 16.2729 4.89486L11.2175 9.95026C10.801 10.3668 10.6376 10.532 10.4988 10.7099C10.3274 10.9297 10.1804 11.1676 10.0605 11.4192C9.96337 11.623 9.88868 11.8429 9.7024 12.4017L9.27051 13.6974L10.3026 14.7295L11.5983 14.2976C12.1571 14.1113 12.377 14.0366 12.5808 13.9395C12.8324 13.8196 13.0703 13.6726 13.2901 13.5012C13.468 13.3624 13.6332 13.199 14.0497 12.7825L19.1051 7.72709Z" fill="#1C274C"></path> </g></svg> </a>
                        </td>
                        {% else %} <td class="px-6 py-4"></td>
                    {% endif %}
                    <td class="px-6 py-4">{{ p.day_select }} </td>
                    <td class="px-6 py-4"> {{ p.ball }} </td>
                    <td class="px-6 py-4"> {{ p.day_distance|floatformat:3 }}</td>
                    <td class="px-6 py-4"> {{ p.day_time|time:'H:i:s' }}</td>
                    <td class="px-6 py-4"> {{ p.day_average_temp|time:'i:s' }}</td>
                    <td class="px-6 py-4"> {{ p.number_of_run }}</td>

                    <td class="px-6 py-4">
                        {% for image in images %}
                            {{ image }}
                            {% if request.user.is_authenticated and p.day_select == image.day_select and p.number_of_run == image.number_of_run %}

                                {#                #TODO  ЗДЕСЬ СДЕЛАТЬ ВЫСПЛЫВАЮШЕЕ ОКНО для просмотра пробегов#}

{#                                {% thumbnail image "40x40" crop="center" as im %}#}

                                    <img src="{{ image.url }}" width="40px" height="40px" alt=""
                                         style="margin: 3px"/>

{#                                {% endthumbnail %}#}

                            {% else %}
                            {% endif %}
                        {% endfor %}
                    </td>

                    {% if request.user.is_authenticated and request.user == p.runner or request.user == 'admin' %}

                        <td class="px-6 py-4"><a href="{% url 'profile:delete' username=p.runner pk=p.pk %}">
                            <svg viewBox="-3 0 128 128" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>trash</title> <desc>Created with Sketch Beta.</desc> <defs> </defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"> <g id="Icon-Set" sketch:type="MSLayerGroup" transform="translate(-259.000000, -203.000000)" fill="#000000"> <path d="M282,211 L262,211 C261.448,211 261,210.553 261,210 C261,209.448 261.448,209 262,209 L282,209 C282.552,209 283,209.448 283,210 C283,210.553 282.552,211 282,211 L282,211 Z M281,231 C281,232.104 280.104,233 279,233 L265,233 C263.896,233 263,232.104 263,231 L263,213 L281,213 L281,231 L281,231 Z M269,206 C269,205.447 269.448,205 270,205 L274,205 C274.552,205 275,205.447 275,206 L275,207 L269,207 L269,206 L269,206 Z M283,207 L277,207 L277,205 C277,203.896 276.104,203 275,203 L269,203 C267.896,203 267,203.896 267,205 L267,207 L261,207 C259.896,207 259,207.896 259,209 L259,211 C259,212.104 259.896,213 261,213 L261,231 C261,233.209 262.791,235 265,235 L279,235 C281.209,235 283,233.209 283,231 L283,213 C284.104,213 285,212.104 285,211 L285,209 C285,207.896 284.104,207 283,207 L283,207 Z M272,231 C272.552,231 273,230.553 273,230 L273,218 C273,217.448 272.552,217 272,217 C271.448,217 271,217.448 271,218 L271,230 C271,230.553 271.448,231 272,231 L272,231 Z M267,231 C267.552,231 268,230.553 268,230 L268,218 C268,217.448 267.552,217 267,217 C266.448,217 266,217.448 266,218 L266,230 C266,230.553 266.448,231 267,231 L267,231 Z M277,231 C277.552,231 278,230.553 278,230 L278,218 C278,217.448 277.552,217 277,217 C276.448,217 276,217.448 276,218 L276,230 C276,230.553 276.448,231 277,231 L277,231 Z" id="trash" sketch:type="MSShapeGroup"> </path> </g> </g> </g></svg>
                          </a>
                        </td>
                    {% else %}
                        <td class="px-6 py-4"></td>
                    {% endif %}

                </tr>


            {% endfor %}

            </tbody>
            <tr></tr>
        </table>
                        <div class="flex rounded-b-xl bg-white justify-end p-4">
                    
                    <div class="flex items-end gap-2">

{#                        {% for u in tot_dist %}#}
{#                        <span class="text-xl font-bold"> {{ u.avg_temp }}/км</span>#}
{#                        {% endfor %}#}
                    </div>

                </div>
        </div>


 
        </div>    
    
  </main>
  </div>


        <a class="scroll-to-top rounded" href="#page-top">
            <i class="fas fa-angle-up"></i>
        </a>

    </div>
{% endblock %}


{% block extrascripts %}
    <script>

        new DataTable('#profile', {
            columnDefs: [
                {type: 'natural', target: 1},
                {orderable: false, targets: [0,6,7,8]}
            ],
            ordering: true,
            bLengthChange: false,
            info: false,
            searching: false
        });
    </script>
{% endblock %}